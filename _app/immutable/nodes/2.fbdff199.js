import{S as he,i as me,s as ge,k as h,l as m,m as k,h as u,n as p,b as P,E as _,v as le,d as N,f as re,g as I,q as A,r as V,u as ae,J as w,e as F,a as q,c as B,L as Be,I as se,M as De,y as fe,z as de,A as _e,B as pe,p as ie,N as We,o as Ze,w as te,O as lt,P as Me,Q as rt,R as nt,T as we,U as ot,V as Pe,W as be,X as Ke}from"../chunks/index.9983bf29.js";function Ue(i,e,t){const r=i.slice();return r[4]=e[t],r}function st(i){let e,t;return{c(){e=h("code"),t=A(i[0]),this.h()},l(r){e=m(r,"CODE",{class:!0});var l=k(e);t=V(l,i[0]),l.forEach(u),this.h()},h(){p(e,"class","svelte-17bjp79")},m(r,l){P(r,e,l),_(e,t)},p(r,l){l&1&&ae(t,r[0])},i:w,o:w,d(r){r&&u(e)}}}function it(i){let e,t,r,l;const s=[ct,at],o=[];function a(n,c){return n[0].children.length>0?0:1}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),r=F()},l(n){t.l(n),r=F()},m(n,c){o[e].m(n,c),P(n,r,c),l=!0},p(n,c){let d=e;e=a(n),e===d?o[e].p(n,c):(le(),N(o[d],1,1,()=>{o[d]=null}),re(),t=o[e],t?t.p(n,c):(t=o[e]=s[e](n),t.c()),I(t,1),t.m(r.parentNode,r))},i(n){l||(I(t),l=!0)},o(n){N(t),l=!1},d(n){o[e].d(n),n&&u(r)}}}function at(i){let e,t,r,l,s=i[0].data+"",o;return{c(){e=h("span"),t=h("span"),r=q(),l=h("span"),o=A(s),this.h()},l(a){e=m(a,"SPAN",{});var n=k(e);t=m(n,"SPAN",{class:!0}),k(t).forEach(u),r=B(n),l=m(n,"SPAN",{class:!0});var c=k(l);o=V(c,s),c.forEach(u),n.forEach(u),this.h()},h(){p(t,"class","no-arrow svelte-17bjp79"),p(l,"class","label empty svelte-17bjp79")},m(a,n){P(a,e,n),_(e,t),_(e,r),_(e,l),_(l,o)},p(a,n){n&1&&s!==(s=a[0].data+"")&&ae(o,s)},i:w,o:w,d(a){a&&u(e)}}}function ct(i){let e,t,r,l,s,o=i[0].data+"",a,n,c,d,f,v,b=i[1]&&Ge(i);return{c(){e=h("span"),t=h("span"),r=A("▶"),l=q(),s=h("span"),a=A(o),n=q(),b&&b.c(),c=F(),this.h()},l(y){e=m(y,"SPAN",{});var D=k(e);t=m(D,"SPAN",{class:!0});var L=k(t);r=V(L,"▶"),L.forEach(u),l=B(D),s=m(D,"SPAN",{class:!0});var x=k(s);a=V(x,o),x.forEach(u),D.forEach(u),n=B(y),b&&b.l(y),c=F(),this.h()},h(){p(t,"class","arrow svelte-17bjp79"),Be(t,"arrowDown",i[2]),p(s,"class","label svelte-17bjp79")},m(y,D){P(y,e,D),_(e,t),_(t,r),_(e,l),_(e,s),_(s,a),P(y,n,D),b&&b.m(y,D),P(y,c,D),d=!0,f||(v=se(e,"click",i[3]),f=!0)},p(y,D){(!d||D&4)&&Be(t,"arrowDown",y[2]),(!d||D&1)&&o!==(o=y[0].data+"")&&ae(a,o),y[1]?b?(b.p(y,D),D&2&&I(b,1)):(b=Ge(y),b.c(),I(b,1),b.m(c.parentNode,c)):b&&(le(),N(b,1,1,()=>{b=null}),re())},i(y){d||(I(b),d=!0)},o(y){N(b),d=!1},d(y){y&&u(e),y&&u(n),b&&b.d(y),y&&u(c),f=!1,v()}}}function Ge(i){let e,t,r=[...i[0].children],l=[];for(let o=0;o<r.length;o+=1)l[o]=ze(Ue(i,r,o));const s=o=>N(l[o],1,1,()=>{l[o]=null});return{c(){e=h("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=m(o,"DIV",{class:!0});var a=k(e);for(let n=0;n<l.length;n+=1)l[n].l(a);a.forEach(u),this.h()},h(){p(e,"class","children")},m(o,a){P(o,e,a);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null);t=!0},p(o,a){if(a&1){r=[...o[0].children];let n;for(n=0;n<r.length;n+=1){const c=Ue(o,r,n);l[n]?(l[n].p(c,a),I(l[n],1)):(l[n]=ze(c),l[n].c(),I(l[n],1),l[n].m(e,null))}for(le(),n=r.length;n<l.length;n+=1)s(n);re()}},i(o){if(!t){for(let a=0;a<r.length;a+=1)I(l[a]);t=!0}},o(o){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)N(l[a]);t=!1},d(o){o&&u(e),De(l,o)}}}function ut(i){let e;return{c(){e=h("span"),this.h()},l(t){e=m(t,"SPAN",{class:!0}),k(e).forEach(u),this.h()},h(){p(e,"class","empty svelte-17bjp79")},m(t,r){P(t,e,r)},p:w,i:w,o:w,d(t){t&&u(e)}}}function ft(i){let e,t;return e=new Qe({props:{tree:i[4]}}),{c(){fe(e.$$.fragment)},l(r){de(e.$$.fragment,r)},m(r,l){_e(e,r,l),t=!0},p(r,l){const s={};l&1&&(s.tree=r[4]),e.$set(s)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){pe(e,r)}}}function ze(i){let e,t,r,l;const s=[ft,ut],o=[];function a(n,c){return n[4]?0:1}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),r=F()},l(n){t.l(n),r=F()},m(n,c){o[e].m(n,c),P(n,r,c),l=!0},p(n,c){let d=e;e=a(n),e===d?o[e].p(n,c):(le(),N(o[d],1,1,()=>{o[d]=null}),re(),t=o[e],t?t.p(n,c):(t=o[e]=s[e](n),t.c()),I(t,1),t.m(r.parentNode,r))},i(n){l||(I(t),l=!0)},o(n){N(t),l=!1},d(n){o[e].d(n),n&&u(r)}}}function dt(i){let e,t,r,l,s;const o=[it,st],a=[];function n(c,d){return c[0].type==="Tree"?0:1}return r=n(i),l=a[r]=o[r](i),{c(){e=h("ul"),t=h("li"),l.c(),this.h()},l(c){e=m(c,"UL",{class:!0});var d=k(e);t=m(d,"LI",{});var f=k(t);l.l(f),f.forEach(u),d.forEach(u),this.h()},h(){p(e,"class","svelte-17bjp79")},m(c,d){P(c,e,d),_(e,t),a[r].m(t,null),s=!0},p(c,[d]){let f=r;r=n(c),r===f?a[r].p(c,d):(le(),N(a[f],1,1,()=>{a[f]=null}),re(),l=a[r],l?l.p(c,d):(l=a[r]=o[r](c),l.c()),I(l,1),l.m(t,null))},i(c){s||(I(l),s=!0)},o(c){N(l),s=!1},d(c){c&&u(e),a[r].d()}}}function _t(i,e,t){let r,{tree:l}=e,s=!0;const o=()=>{t(1,s=!s)};return i.$$set=a=>{"tree"in a&&t(0,l=a.tree)},i.$$.update=()=>{i.$$.dirty&2&&t(2,r=s)},[l,s,r,o]}class Qe extends he{constructor(e){super(),me(this,e,_t,dt,ge,{tree:0})}}function pt(i){let e;return{c(){e=h("div"),this.h()},l(t){e=m(t,"DIV",{style:!0}),k(e).forEach(u),this.h()},h(){ie(e,"flex-grow","1"),ie(e,"overflow","hidden"),ie(e,"border","1px solid grey")},m(t,r){P(t,e,r),i[3](e)},p:w,i:w,o:w,d(t){t&&u(e),i[3](null)}}}function ht(i,e,t){const r=We();let l,{text:s=""}=e;const o={comments:{lineComment:"//"},brackets:[["(",")"],["[","]"],["{","}"]],autoClosingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:"/",close:"/"},{open:'"',close:'"'}],surroundingPairs:[["(",")"],["[","]"],["{","}"],["/","/"],['"','"']]},a={defaultToken:"",tokenPostfix:".lark",keywords:[],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"}],tokenizer:{root:[{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},[/%(import|ignore|declare|override|extend)/,"keyword"],[/[\|]/,"delimiter"],[/[{}\[\]()]/,"@brackets"],[/([a-zA-Z_]*)\s*\:/,"variable.name"],[/\s*->\s*([a-zA-Z_]*)/,"variable.name"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}]],whitespace:[[/\s+/,"white"],[/(^\/\/.*$)/,"comment"]],numbers:[[/-?0x([abcdef]|[ABCDEF]|\d)+[lL]?/,"number.hex"],[/-?(\d*\.)?\d+([eE][+\-]?\d+)?[jJ]?[lL]?/,"number"]],strings:[[/'$/,"string.escape","@popall"],[/'/,"string.escape","@stringBody"],[/"$/,"string.escape","@popall"],[/"/,"string.escape","@dblStringBody"]],stringBody:[[/[^\\']+$/,"string","@popall"],[/[^\\']+/,"string"],[/\\./,"string"],[/'/,"string.escape","@popall"],[/\\$/,"string"]],dblStringBody:[[/[^\\"]+$/,"string","@popall"],[/[^\\"]+/,"string"],[/\\./,"string"],[/"/,"string.escape","@popall"],[/\\$/,"string"]]}};let n;const c={value:s,language:"lark",automaticLayout:!0};Ze(()=>{require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs"}}),require(["vs/editor/editor.main"],v=>{v.languages.register({id:"lark",extensions:[".lark"],aliases:["Lark","lark"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",configuration:"./lark.js"}),v.languages.setMonarchTokensProvider("lark",a),v.languages.setLanguageConfiguration("lark",o),l=v.editor.create(n,c),t(1,s=l.getModel().getValue()),l.getModel().onDidChangeContent(b=>{t(1,s=l.getModel().getValue())}),r("ready",{})})});function d(v){if(l)return l.getModel().setValue(v)}function f(v){te[v?"unshift":"push"](()=>{n=v,t(0,n)})}return i.$$set=v=>{"text"in v&&t(1,s=v.text)},[n,s,d,f]}class mt extends he{constructor(e){super(),me(this,e,ht,pt,ge,{text:1,set_text:2})}get set_text(){return this.$$.ctx[2]}}function gt(i){let e;return{c(){e=h("div"),this.h()},l(t){e=m(t,"DIV",{style:!0}),k(e).forEach(u),this.h()},h(){ie(e,"flex-grow","1"),ie(e,"overflow","hidden"),ie(e,"border","1px solid grey")},m(t,r){P(t,e,r),i[3](e)},p:w,i:w,o:w,d(t){t&&u(e),i[3](null)}}}function kt(i,e,t){const r=We();let l,{text:s=""}=e,o;const a={value:s,language:"",automaticLayout:!0},n=f=>{l=f.editor.create(o,a),t(1,s=l.getModel().getValue()),l.getModel().onDidChangeContent(v=>{t(1,s=l.getModel().getValue())}),r("ready",{})};Ze(()=>{require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs"}}),require(["vs/editor/editor.main"],n)});function c(f){if(l)return l.getModel().setValue(f)}function d(f){te[f?"unshift":"push"](()=>{o=f,t(0,o)})}return i.$$set=f=>{"text"in f&&t(1,s=f.text)},[o,s,c,d]}class vt extends he{constructor(e){super(),me(this,e,kt,gt,ge,{text:1,set_text:2})}get set_text(){return this.$$.ctx[2]}}function bt(i){let e,t,r,l,s,o,a,n,c,d,f,v,b,y,D;return{c(){e=h("div"),t=h("div"),r=h("div"),l=h("select"),s=h("option"),o=A("Parser: Earley"),a=h("option"),n=A("Parser: LALR(1)"),c=q(),d=h("div"),f=h("label"),v=h("input"),b=A(`\r
	 				Keep all tokens`),this.h()},l(L){e=m(L,"DIV",{class:!0});var x=k(e);t=m(x,"DIV",{class:!0});var X=k(t);r=m(X,"DIV",{class:!0});var T=k(r);l=m(T,"SELECT",{});var S=k(l);s=m(S,"OPTION",{});var H=k(s);o=V(H,"Parser: Earley"),H.forEach(u),a=m(S,"OPTION",{});var J=k(a);n=V(J,"Parser: LALR(1)"),J.forEach(u),S.forEach(u),T.forEach(u),X.forEach(u),c=B(x),d=m(x,"DIV",{class:!0});var M=k(d);f=m(M,"LABEL",{class:!0,for:!0});var j=k(f);v=m(j,"INPUT",{class:!0,type:!0,id:!0}),b=V(j,`\r
	 				Keep all tokens`),j.forEach(u),M.forEach(u),x.forEach(u),this.h()},h(){s.__value="earley",s.value=s.__value,a.__value="lalr",a.value=a.__value,i[0]===void 0&&lt(()=>i[5].call(l)),p(r,"class","select"),p(t,"class","option svelte-1abgjqq"),p(v,"class","checkbox"),p(v,"type","checkbox"),p(v,"id","keep_all_tokens"),p(f,"class","checkbox"),p(f,"for","keep_all_tokens"),p(d,"class","option svelte-1abgjqq"),p(e,"class","list svelte-1abgjqq")},m(L,x){P(L,e,x),_(e,t),_(t,r),_(r,l),_(l,s),_(s,o),_(l,a),_(a,n),Me(l,i[0],!0),_(e,c),_(e,d),_(d,f),_(f,v),v.checked=i[1],_(f,b),y||(D=[se(l,"change",i[5]),se(l,"input",i[2]),se(v,"change",i[6]),se(v,"input",i[3])],y=!0)},p(L,[x]){x&1&&Me(l,L[0]),x&2&&(v.checked=L[1])},i:w,o:w,d(L){L&&u(e),y=!1,rt(D)}}}function yt(i,e,t){let{options:r}=e,l,s;function o(){t(0,l=r.parser),t(1,s=r.keep_all_tokens)}function a(f){setTimeout(()=>{t(4,r={...r,parser:l})})}function n(f){setTimeout(()=>{t(4,r={...r,keep_all_tokens:s})})}function c(){l=nt(this),t(0,l)}function d(){s=this.checked,t(1,s)}return i.$$set=f=>{"options"in f&&t(4,r=f.options)},i.$$.update=()=>{i.$$.dirty&16&&r&&o()},[l,s,a,n,r,c,d]}class Et extends he{constructor(e){super(),me(this,e,yt,bt,ge,{options:4})}}function wt(i,e){e&&e("Loading Pyodide"),require(["https://cdn.jsdelivr.net/pyodide/v0.18.0/full/pyodide.js"],t=>{t.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.18.0/full/"}).then(async r=>{console.log("Pyodide loaded",r),e&&e("Installing micropip"),await r.loadPackage("micropip"),e&&e("Downloading & Installing Lark"),await r.runPythonAsync("import micropip; await micropip.install('lark');"),r.runPython("import lark"),i(r),console.log("Ready!",r)})})}function Fe(i,e,t){const r=i.slice();return r[25]=e[t],r}function Xe(i,e,t){const r=i.slice();return r[28]=e[t],r}function He(i){let e,t=i[28].title+"",r,l,s,o;function a(){return i[13](i[28])}return{c(){e=h("a"),r=A(t),l=q(),this.h()},l(n){e=m(n,"A",{href:!0,class:!0});var c=k(e);r=V(c,t),l=B(c),c.forEach(u),this.h()},h(){p(e,"href","#"),p(e,"class","dropdown-item")},m(n,c){P(n,e,c),_(e,r),_(e,l),s||(o=se(e,"click",a),s=!0)},p(n,c){i=n},d(n){n&&u(e),s=!1,o()}}}function Pt(i){let e,t,r,l,s,o,a=i[6],n=[];for(let c=0;c<a.length;c+=1)n[c]=Je(Fe(i,a,c));return{c(){e=A(`Please wait, loading...

		`),t=h("progress"),r=A("XX"),s=q(),o=h("ul");for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=V(c,`Please wait, loading...

		`),t=m(c,"PROGRESS",{class:!0,max:!0});var d=k(t);r=V(d,"XX"),d.forEach(u),s=B(c),o=m(c,"UL",{});var f=k(o);for(let v=0;v<n.length;v+=1)n[v].l(f);f.forEach(u),this.h()},h(){p(t,"class","progress is-info"),t.value=l=i[6].length,p(t,"max","4")},m(c,d){P(c,e,d),P(c,t,d),_(t,r),P(c,s,d),P(c,o,d);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(o,null)},p(c,d){if(d&64&&l!==(l=c[6].length)&&(t.value=l),d&64){a=c[6];let f;for(f=0;f<a.length;f+=1){const v=Fe(c,a,f);n[f]?n[f].p(v,d):(n[f]=Je(v),n[f].c(),n[f].m(o,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=a.length}},i:w,o:w,d(c){c&&u(e),c&&u(t),c&&u(s),c&&u(o),De(n,c)}}}function Dt(i){let e,t,r,l={ctx:i,current:null,token:null,hasCatch:!0,pending:jt,then:Lt,catch:It,error:25,blocks:[,,,]};return be(t=i[2],l),{c(){e=F(),l.block.c()},l(s){e=F(),l.block.l(s)},m(s,o){P(s,e,o),l.block.m(s,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e,r=!0},p(s,o){i=s,l.ctx=i,o&4&&t!==(t=i[2])&&be(t,l)||Ke(l,i,o)},i(s){r||(I(l.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const a=l.blocks[o];N(a)}r=!1},d(s){s&&u(e),l.block.d(s),l.token=null,l=null}}}function Je(i){let e,t=i[25]+"",r;return{c(){e=h("li"),r=A(t)},l(l){e=m(l,"LI",{});var s=k(e);r=V(s,t),s.forEach(u)},m(l,s){P(l,e,s),_(e,r)},p(l,s){s&64&&t!==(t=l[25]+"")&&ae(r,t)},d(l){l&&u(e)}}}function It(i){let e,t,r=i[25]+"",l,s;return{c(){e=h("pre"),t=A("				"),l=A(r),s=A(`
			`)},l(o){e=m(o,"PRE",{});var a=k(e);t=V(a,"				"),l=V(a,r),s=V(a,`
			`),a.forEach(u)},m(o,a){P(o,e,a),_(e,t),_(e,l),_(e,s)},p(o,a){a&4&&r!==(r=o[25]+"")&&ae(l,r)},i:w,o:w,d(o){o&&u(e)}}}function Lt(i){let e,t,r,l={ctx:i,current:null,token:null,hasCatch:!0,pending:St,then:Nt,catch:xt,value:24,error:25,blocks:[,,,]};return be(t=i[5],l),{c(){e=F(),l.block.c()},l(s){e=F(),l.block.l(s)},m(s,o){P(s,e,o),l.block.m(s,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e,r=!0},p(s,o){i=s,l.ctx=i,o&32&&t!==(t=i[5])&&be(t,l)||Ke(l,i,o)},i(s){r||(I(l.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const a=l.blocks[o];N(a)}r=!1},d(s){s&&u(e),l.block.d(s),l.token=null,l=null}}}function xt(i){let e,t,r=i[25]+"",l,s;return{c(){e=h("pre"),t=A("					"),l=A(r),s=A(`
				`)},l(o){e=m(o,"PRE",{});var a=k(e);t=V(a,"					"),l=V(a,r),s=V(a,`
				`),a.forEach(u)},m(o,a){P(o,e,a),_(e,t),_(e,l),_(e,s)},p(o,a){a&32&&r!==(r=o[25]+"")&&ae(l,r)},i:w,o:w,d(o){o&&u(e)}}}function Nt(i){let e,t,r,l;const s=[Vt,At],o=[];function a(n,c){return n[24]?0:1}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),r=F()},l(n){t.l(n),r=F()},m(n,c){o[e].m(n,c),P(n,r,c),l=!0},p(n,c){let d=e;e=a(n),e===d?o[e].p(n,c):(le(),N(o[d],1,1,()=>{o[d]=null}),re(),t=o[e],t?t.p(n,c):(t=o[e]=s[e](n),t.c()),I(t,1),t.m(r.parentNode,r))},i(n){l||(I(t),l=!0)},o(n){N(t),l=!1},d(n){o[e].d(n),n&&u(r)}}}function At(i){let e;return{c(){e=A("No result")},l(t){e=V(t,"No result")},m(t,r){P(t,e,r)},p:w,i:w,o:w,d(t){t&&u(e)}}}function Vt(i){let e,t;return e=new Qe({props:{tree:i[24]}}),{c(){fe(e.$$.fragment)},l(r){de(e.$$.fragment,r)},m(r,l){_e(e,r,l),t=!0},p(r,l){const s={};l&32&&(s.tree=r[24]),e.$set(s)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){pe(e,r)}}}function St(i){let e;return{c(){e=A("Parsing...")},l(t){e=V(t,"Parsing...")},m(t,r){P(t,e,r)},p:w,i:w,o:w,d(t){t&&u(e)}}}function jt(i){let e;return{c(){e=A("Building Parser...")},l(t){e=V(t,"Building Parser...")},m(t,r){P(t,e,r)},p:w,i:w,o:w,d(t){t&&u(e)}}}function Ct(i){let e,t,r,l,s,o,a,n,c,d,f,v,b,y,D,L,x,X,T,S,H,J,M,j,ce,ue,E,$,K,ye,W,U,G,ke,ne=i[9],C=[];for(let g=0;g<ne.length;g+=1)C[g]=He(Xe(i,ne,g));function Ye(g){i[14](g)}let Ie={};i[1]!==void 0&&(Ie.options=i[1]),S=new Et({props:Ie}),te.push(()=>we(S,"options",Ye));function et(g){i[16](g)}let Le={};i[3]!==void 0&&(Le.text=i[3]),j=new mt({props:Le}),i[15](j),te.push(()=>we(j,"text",et)),j.$on("ready",i[10]);function tt(g){i[18](g)}let xe={};i[0]!==void 0&&(xe.text=i[0]),$=new vt({props:xe}),i[17]($),te.push(()=>we($,"text",tt));const Ne=[Dt,Pt],Z=[];function Ae(g,z){return g[4]?0:1}return U=Ae(i),G=Z[U]=Ne[U](i),{c(){e=q(),t=h("section"),r=h("div"),l=h("div"),s=h("div"),o=h("div"),a=h("div"),n=h("div"),c=h("button"),d=h("span"),f=A("Load Grammar"),v=q(),b=h("span"),y=h("i"),D=q(),L=h("div"),x=h("div");for(let g=0;g<C.length;g+=1)C[g].c();X=q(),T=h("div"),fe(S.$$.fragment),J=q(),M=h("div"),fe(j.$$.fragment),ue=q(),E=h("div"),fe($.$$.fragment),ye=q(),W=h("div"),G.c(),this.h()},l(g){ot("svelte-3fm5e0",document.head).forEach(u),e=B(g),t=m(g,"SECTION",{id:!0,class:!0});var R=k(t);r=m(R,"DIV",{id:!0,class:!0});var Q=k(r);l=m(Q,"DIV",{id:!0,class:!0});var Y=k(l);s=m(Y,"DIV",{id:!0,class:!0});var oe=k(s);o=m(oe,"DIV",{class:!0});var O=k(o);a=m(O,"DIV",{class:!0});var ee=k(a);n=m(ee,"DIV",{class:!0});var Ve=k(n);c=m(Ve,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var ve=k(c);d=m(ve,"SPAN",{});var Se=k(d);f=V(Se,"Load Grammar"),Se.forEach(u),v=B(ve),b=m(ve,"SPAN",{class:!0});var je=k(b);y=m(je,"I",{class:!0,"aria-hidden":!0}),k(y).forEach(u),je.forEach(u),ve.forEach(u),Ve.forEach(u),D=B(ee),L=m(ee,"DIV",{class:!0,id:!0,role:!0});var Ce=k(L);x=m(Ce,"DIV",{class:!0});var Te=k(x);for(let Ee=0;Ee<C.length;Ee+=1)C[Ee].l(Te);Te.forEach(u),Ce.forEach(u),ee.forEach(u),O.forEach(u),oe.forEach(u),X=B(Y),T=m(Y,"DIV",{id:!0,class:!0});var Oe=k(T);de(S.$$.fragment,Oe),Oe.forEach(u),Y.forEach(u),J=B(Q),M=m(Q,"DIV",{id:!0,class:!0});var Re=k(M);de(j.$$.fragment,Re),Re.forEach(u),Q.forEach(u),ue=B(R),E=m(R,"DIV",{id:!0,class:!0});var $e=k(E);de($.$$.fragment,$e),$e.forEach(u),ye=B(R),W=m(R,"DIV",{id:!0,class:!0});var qe=k(W);G.l(qe),qe.forEach(u),R.forEach(u),this.h()},h(){document.title="Lark IDE",p(y,"class","fas fa-angle-down"),p(y,"aria-hidden","true"),p(b,"class","icon is-small"),p(c,"class","button"),p(c,"aria-haspopup","true"),p(c,"aria-controls","dropdown-menu3"),p(n,"class","dropdown-trigger"),p(x,"class","dropdown-content"),p(L,"class","dropdown-menu"),p(L,"id","dropdown-menu3"),p(L,"role","menu"),p(a,"class","dropdown is-hoverable"),p(o,"class","option svelte-97yeox"),p(s,"id","load-grammar"),p(s,"class","svelte-97yeox"),p(T,"id","options"),p(T,"class","svelte-97yeox"),p(l,"id","above_grammar"),p(l,"class","svelte-97yeox"),p(M,"id","grammar"),p(M,"class","svelte-97yeox"),p(r,"id","grammar_pane"),p(r,"class","svelte-97yeox"),p(E,"id","text"),p(E,"class","svelte-97yeox"),p(W,"id","output"),p(W,"class","svelte-97yeox"),p(t,"id","ide"),p(t,"class","svelte-97yeox")},m(g,z){P(g,e,z),P(g,t,z),_(t,r),_(r,l),_(l,s),_(s,o),_(o,a),_(a,n),_(n,c),_(c,d),_(d,f),_(c,v),_(c,b),_(b,y),_(a,D),_(a,L),_(L,x);for(let R=0;R<C.length;R+=1)C[R]&&C[R].m(x,null);_(l,X),_(l,T),_e(S,T,null),_(r,J),_(r,M),_e(j,M,null),_(t,ue),_(t,E),_e($,E,null),_(t,ye),_(t,W),Z[U].m(W,null),ke=!0},p(g,[z]){if(z&2560){ne=g[9];let O;for(O=0;O<ne.length;O+=1){const ee=Xe(g,ne,O);C[O]?C[O].p(ee,z):(C[O]=He(ee),C[O].c(),C[O].m(x,null))}for(;O<C.length;O+=1)C[O].d(1);C.length=ne.length}const R={};!H&&z&2&&(H=!0,R.options=g[1],Pe(()=>H=!1)),S.$set(R);const Q={};!ce&&z&8&&(ce=!0,Q.text=g[3],Pe(()=>ce=!1)),j.$set(Q);const Y={};!K&&z&1&&(K=!0,Y.text=g[0],Pe(()=>K=!1)),$.$set(Y);let oe=U;U=Ae(g),U===oe?Z[U].p(g,z):(le(),N(Z[oe],1,1,()=>{Z[oe]=null}),re(),G=Z[U],G?G.p(g,z):(G=Z[U]=Ne[U](g),G.c()),I(G,1),G.m(W,null))},i(g){ke||(I(S.$$.fragment,g),I(j.$$.fragment,g),I($.$$.fragment,g),I(G),ke=!0)},o(g){N(S.$$.fragment,g),N(j.$$.fragment,g),N($.$$.fragment,g),N(G),ke=!1},d(g){g&&u(e),g&&u(t),De(C,g),pe(S),i[15](null),pe(j),i[17](null),pe($),Z[U].d()}}}const Tt=500;let Ot="parser = lark.Lark(grammar, **options.to_py())";function Rt(i,e,t){const r={parser:"earley",keep_all_tokens:!1},l=[{title:"Blank",name:"blank",text:""},{title:"(easy) Hello World",name:"hello",text:"Hello, World!"},{title:"(easy) JSON parser",name:"json",text:'{"this": ["is", "JSON"]}',options:{parser:"lalr"}},{title:"(easy) Calculator",name:"calc",text:"2 + 20 / (13 - 6) + 1.5",options:{parser:"lalr"}},{title:"(easy) Fruit flies like bananas",name:"fruitflies",text:"fruit flies like bananas",options:{ambiguity:"explicit"}},{title:"(avg) Configuration grammar",name:"conf",text:`[main]
hello=world
`,options:{parser:"lalr"}},{title:"(avg) Lark grammar",name:"lark",text:'start: "Hello" "World"',options:{parser:"lalr",maybe_placeholders:!1}}];let s="",o="",a=r,n,c,d,f,v=[];async function b(){X("hello"),f||wt(E=>{t(4,f=E)},E=>{t(6,v=[...v,E])})}function y(){f.globals.set("grammar",s),f.globals.set("options",a),t(2,n=f.runPythonAsync(Ot))}let D;function L(){clearTimeout(D),D=setTimeout(()=>{t(12,s=d)},Tt)}function x(E){return f.globals.set("text",E),f.runPythonAsync("parser.parse(text)")}async function X(E){if(console.log("Loading grammar",E),E==="blank"){t(12,s="start:"),T.set_text(""),S.set_text(""),t(1,a=r);return}let $=await fetch("grammars/"+E+".lark");if($.ok){t(12,s=await $.text()),T.set_text(s);for(let K of l)if(K.name===E){S.set_text(K.text),t(1,a={...r,...K.options});break}}}let T,S;const H=E=>{X(E.name)};function J(E){a=E,t(1,a)}function M(E){te[E?"unshift":"push"](()=>{T=E,t(7,T)})}function j(E){d=E,t(3,d)}function ce(E){te[E?"unshift":"push"](()=>{S=E,t(8,S)})}function ue(E){o=E,t(0,o)}return i.$$.update=()=>{i.$$.dirty&4114&&f&&a&&s&&y(),i.$$.dirty&24&&f&&d&&L(),i.$$.dirty&21&&t(5,c=f&&n&&x(o))},[o,a,n,d,f,c,v,T,S,l,b,X,s,H,J,M,j,ce,ue]}class qt extends he{constructor(e){super(),me(this,e,Rt,Ct,ge,{})}}export{qt as component};
