import{S as he,i as me,s as ge,k as h,l as m,m as g,h as u,n as p,b as y,E as d,v as le,d as S,f as re,g as j,q as I,r as N,u as ne,J as P,e as F,a as U,c as $,L as Re,I as Q,M as ye,y as ce,z as ue,A as fe,B as _e,p as Ee,N as Ye,o as Qe,w as de,O as et,P as Be,Q as tt,R as lt,T as qe,U as rt,V as Ue,W as $e,X as pe,Y as Je}from"../chunks/index.ff588ce8.js";function xe(a,e,t){const r=a.slice();return r[4]=e[t],r}function nt(a){let e,t;return{c(){e=h("code"),t=I(a[0]),this.h()},l(r){e=m(r,"CODE",{class:!0});var l=g(e);t=N(l,a[0]),l.forEach(u),this.h()},h(){p(e,"class","svelte-17bjp79")},m(r,l){y(r,e,l),d(e,t)},p(r,l){l&1&&ne(t,r[0])},i:P,o:P,d(r){r&&u(e)}}}function st(a){let e,t,r,l;const o=[at,ot],n=[];function i(s,c){return s[0].children.length?0:1}return e=i(a),t=n[e]=o[e](a),{c(){t.c(),r=F()},l(s){t.l(s),r=F()},m(s,c){n[e].m(s,c),y(s,r,c),l=!0},p(s,c){let _=e;e=i(s),e===_?n[e].p(s,c):(le(),S(n[_],1,1,()=>{n[_]=null}),re(),t=n[e],t?t.p(s,c):(t=n[e]=o[e](s),t.c()),j(t,1),t.m(r.parentNode,r))},i(s){l||(j(t),l=!0)},o(s){S(t),l=!1},d(s){n[e].d(s),s&&u(r)}}}function ot(a){let e,t,r,l,o=a[0].data+"",n;return{c(){e=h("span"),t=h("span"),r=U(),l=h("span"),n=I(o),this.h()},l(i){e=m(i,"SPAN",{});var s=g(e);t=m(s,"SPAN",{class:!0}),g(t).forEach(u),r=$(s),l=m(s,"SPAN",{class:!0});var c=g(l);n=N(c,o),c.forEach(u),s.forEach(u),this.h()},h(){p(t,"class","no-arrow svelte-17bjp79"),p(l,"class","label empty svelte-17bjp79")},m(i,s){y(i,e,s),d(e,t),d(e,r),d(e,l),d(l,n)},p(i,s){s&1&&o!==(o=i[0].data+"")&&ne(n,o)},i:P,o:P,d(i){i&&u(e)}}}function at(a){let e,t,r,l,o,n=a[0].data+"",i,s,c,_,f,k,b=a[1]&&Ge(a);return{c(){e=h("span"),t=h("span"),r=I("▶"),l=U(),o=h("span"),i=I(n),s=U(),b&&b.c(),c=F(),this.h()},l(E){e=m(E,"SPAN",{});var w=g(e);t=m(w,"SPAN",{class:!0});var A=g(t);r=N(A,"▶"),A.forEach(u),l=$(w),o=m(w,"SPAN",{class:!0});var D=g(o);i=N(D,n),D.forEach(u),w.forEach(u),s=$(E),b&&b.l(E),c=F(),this.h()},h(){p(t,"class","arrow svelte-17bjp79"),Re(t,"arrowDown",a[2]),p(o,"class","label svelte-17bjp79")},m(E,w){y(E,e,w),d(e,t),d(t,r),d(e,l),d(e,o),d(o,i),y(E,s,w),b&&b.m(E,w),y(E,c,w),_=!0,f||(k=Q(e,"click",a[3]),f=!0)},p(E,w){(!_||w&4)&&Re(t,"arrowDown",E[2]),(!_||w&1)&&n!==(n=E[0].data+"")&&ne(i,n),E[1]?b?(b.p(E,w),w&2&&j(b,1)):(b=Ge(E),b.c(),j(b,1),b.m(c.parentNode,c)):b&&(le(),S(b,1,1,()=>{b=null}),re())},i(E){_||(j(b),_=!0)},o(E){S(b),_=!1},d(E){E&&u(e),E&&u(s),b&&b.d(E),E&&u(c),f=!1,k()}}}function Ge(a){let e,t,r=[...a[0].children],l=[];for(let n=0;n<r.length;n+=1)l[n]=Me(xe(a,r,n));const o=n=>S(l[n],1,1,()=>{l[n]=null});return{c(){e=h("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=m(n,"DIV",{class:!0});var i=g(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(u),this.h()},h(){p(e,"class","children")},m(n,i){y(n,e,i);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null);t=!0},p(n,i){if(i&1){r=[...n[0].children];let s;for(s=0;s<r.length;s+=1){const c=xe(n,r,s);l[s]?(l[s].p(c,i),j(l[s],1)):(l[s]=Me(c),l[s].c(),j(l[s],1),l[s].m(e,null))}for(le(),s=r.length;s<l.length;s+=1)o(s);re()}},i(n){if(!t){for(let i=0;i<r.length;i+=1)j(l[i]);t=!0}},o(n){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)S(l[i]);t=!1},d(n){n&&u(e),ye(l,n)}}}function Me(a){let e,t;return e=new We({props:{tree:a[4]}}),{c(){ce(e.$$.fragment)},l(r){ue(e.$$.fragment,r)},m(r,l){fe(e,r,l),t=!0},p(r,l){const o={};l&1&&(o.tree=r[4]),e.$set(o)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){_e(e,r)}}}function it(a){let e,t,r,l,o;const n=[st,nt],i=[];function s(c,_){return c[0].type==="Tree"?0:1}return r=s(a),l=i[r]=n[r](a),{c(){e=h("ul"),t=h("li"),l.c(),this.h()},l(c){e=m(c,"UL",{class:!0});var _=g(e);t=m(_,"LI",{});var f=g(t);l.l(f),f.forEach(u),_.forEach(u),this.h()},h(){p(e,"class","svelte-17bjp79")},m(c,_){y(c,e,_),d(e,t),i[r].m(t,null),o=!0},p(c,[_]){let f=r;r=s(c),r===f?i[r].p(c,_):(le(),S(i[f],1,1,()=>{i[f]=null}),re(),l=i[r],l?l.p(c,_):(l=i[r]=n[r](c),l.c()),j(l,1),l.m(t,null))},i(c){o||(j(l),o=!0)},o(c){S(l),o=!1},d(c){c&&u(e),i[r].d()}}}function ct(a,e,t){let r,{tree:l}=e,o=!0;const n=()=>{t(1,o=!o)};return a.$$set=i=>{"tree"in i&&t(0,l=i.tree)},a.$$.update=()=>{a.$$.dirty&2&&t(2,r=o)},[l,o,r,n]}class We extends he{constructor(e){super(),me(this,e,ct,it,ge,{tree:0})}}function ut(a){let e;return{c(){e=h("div"),this.h()},l(t){e=m(t,"DIV",{style:!0}),g(e).forEach(u),this.h()},h(){Ee(e,"flex-grow","1"),Ee(e,"overflow","hidden"),Ee(e,"border","1px solid grey")},m(t,r){y(t,e,r),a[3](e)},p:P,i:P,o:P,d(t){t&&u(e),a[3](null)}}}function ft(a,e,t){const r=Ye();let l,{text:o=""}=e;const n={comments:{lineComment:"//"},brackets:[["(",")"],["[","]"],["{","}"]],autoClosingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:"/",close:"/"},{open:'"',close:'"'}],surroundingPairs:[["(",")"],["[","]"],["{","}"],["/","/"],['"','"']]},i={defaultToken:"",tokenPostfix:".lark",keywords:[],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"}],tokenizer:{root:[{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},[/%(import|ignore|declare|override|extend)/,"keyword"],[/[\|]/,"delimiter"],[/[{}\[\]()]/,"@brackets"],[/([a-zA-Z_]*)\s*\:/,"variable.name"],[/\s*->\s*([a-zA-Z_]*)/,"variable.name"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}]],whitespace:[[/\s+/,"white"],[/(^\/\/.*$)/,"comment"]],numbers:[[/-?0x([abcdef]|[ABCDEF]|\d)+[lL]?/,"number.hex"],[/-?(\d*\.)?\d+([eE][+\-]?\d+)?[jJ]?[lL]?/,"number"]],strings:[[/'$/,"string.escape","@popall"],[/'/,"string.escape","@stringBody"],[/"$/,"string.escape","@popall"],[/"/,"string.escape","@dblStringBody"]],stringBody:[[/[^\\']+$/,"string","@popall"],[/[^\\']+/,"string"],[/\\./,"string"],[/'/,"string.escape","@popall"],[/\\$/,"string"]],dblStringBody:[[/[^\\"]+$/,"string","@popall"],[/[^\\"]+/,"string"],[/\\./,"string"],[/"/,"string.escape","@popall"],[/\\$/,"string"]]}};let s;const c={value:o,language:"lark",automaticLayout:!0};Qe(()=>{require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs"}}),require(["vs/editor/editor.main"],k=>{k.languages.register({id:"lark",extensions:[".lark"],aliases:["Lark","lark"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",configuration:"./lark.js"}),k.languages.setMonarchTokensProvider("lark",i),k.languages.setLanguageConfiguration("lark",n),l=k.editor.create(s,c),t(1,o=l.getModel().getValue()),l.getModel().onDidChangeContent(b=>{t(1,o=l.getModel().getValue())}),r("ready",{})})});function _(k){if(l)return l.getModel().setValue(k)}function f(k){de[k?"unshift":"push"](()=>{s=k,t(0,s)})}return a.$$set=k=>{"text"in k&&t(1,o=k.text)},[s,o,_,f]}class _t extends he{constructor(e){super(),me(this,e,ft,ut,ge,{text:1,set_text:2})}get set_text(){return this.$$.ctx[2]}}function dt(a){let e,t,r,l,o,n,i,s,c,_,f,k,b,E,w;return{c(){e=h("div"),t=h("div"),r=h("div"),l=h("select"),o=h("option"),n=I("Parser: Earley"),i=h("option"),s=I("Parser: LALR(1)"),c=U(),_=h("div"),f=h("label"),k=h("input"),b=I(`\r
	 				Keep all tokens`),this.h()},l(A){e=m(A,"DIV",{class:!0});var D=g(e);t=m(D,"DIV",{class:!0});var z=g(t);r=m(z,"DIV",{class:!0});var C=g(r);l=m(C,"SELECT",{});var O=g(l);o=m(O,"OPTION",{});var H=g(o);n=N(H,"Parser: Earley"),H.forEach(u),i=m(O,"OPTION",{});var J=g(i);s=N(J,"Parser: LALR(1)"),J.forEach(u),O.forEach(u),C.forEach(u),z.forEach(u),c=$(D),_=m(D,"DIV",{class:!0});var x=g(_);f=m(x,"LABEL",{class:!0,for:!0});var T=g(f);k=m(T,"INPUT",{class:!0,type:!0,id:!0}),b=N(T,`\r
	 				Keep all tokens`),T.forEach(u),x.forEach(u),D.forEach(u),this.h()},h(){o.__value="earley",o.value=o.__value,i.__value="lalr",i.value=i.__value,a[0]===void 0&&et(()=>a[5].call(l)),p(r,"class","select"),p(t,"class","option svelte-1abgjqq"),p(k,"class","checkbox"),p(k,"type","checkbox"),p(k,"id","keep_all_tokens"),p(f,"class","checkbox"),p(f,"for","keep_all_tokens"),p(_,"class","option svelte-1abgjqq"),p(e,"class","list svelte-1abgjqq")},m(A,D){y(A,e,D),d(e,t),d(t,r),d(r,l),d(l,o),d(o,n),d(l,i),d(i,s),Be(l,a[0],!0),d(e,c),d(e,_),d(_,f),d(f,k),k.checked=a[1],d(f,b),E||(w=[Q(l,"change",a[5]),Q(l,"input",a[2]),Q(k,"change",a[6]),Q(k,"input",a[3])],E=!0)},p(A,[D]){D&1&&Be(l,A[0]),D&2&&(k.checked=A[1])},i:P,o:P,d(A){A&&u(e),E=!1,tt(w)}}}function pt(a,e,t){let{options:r}=e,l,o;function n(){t(0,l=r.parser),t(1,o=r.keep_all_tokens)}function i(f){setTimeout(()=>{t(4,r={...r,parser:l})})}function s(f){setTimeout(()=>{t(4,r={...r,keep_all_tokens:o})})}function c(){l=lt(this),t(0,l)}function _(){o=this.checked,t(1,o)}return a.$$set=f=>{"options"in f&&t(4,r=f.options)},a.$$.update=()=>{a.$$.dirty&16&&r&&n()},[l,o,i,s,r,c,_]}class ht extends he{constructor(e){super(),me(this,e,pt,dt,ge,{options:4})}}function mt(a,e){e&&e("Loading Pyodide"),require(["https://cdn.jsdelivr.net/pyodide/v0.18.0/full/pyodide.js"],t=>{t.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.18.0/full/"}).then(async r=>{console.log("Pyodide loaded",r),e&&e("Installing micropip"),await r.loadPackage("micropip"),e&&e("Downloading & Installing Lark"),await r.runPythonAsync("import micropip; await micropip.install('lark-parser');"),r.runPython("import lark"),a(r),console.log("Ready!",r)})})}function Xe(a,e,t){const r=a.slice();return r[23]=e[t],r}function ze(a,e,t){const r=a.slice();return r[26]=e[t],r}function Fe(a){let e,t=a[26].title+"",r,l,o,n;function i(){return a[12](a[26])}return{c(){e=h("a"),r=I(t),l=U(),this.h()},l(s){e=m(s,"A",{href:!0,class:!0});var c=g(e);r=N(c,t),l=$(c),c.forEach(u),this.h()},h(){p(e,"href","#"),p(e,"class","dropdown-item")},m(s,c){y(s,e,c),d(e,r),d(e,l),o||(n=Q(e,"click",i),o=!0)},p(s,c){a=s},d(s){s&&u(e),o=!1,n()}}}function gt(a){let e,t,r,l,o,n,i=a[6],s=[];for(let c=0;c<i.length;c+=1)s[c]=He(Xe(a,i,c));return{c(){e=I(`Please wait, loading...

		`),t=h("progress"),r=I("XX"),o=U(),n=h("ul");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=N(c,`Please wait, loading...

		`),t=m(c,"PROGRESS",{class:!0,max:!0});var _=g(t);r=N(_,"XX"),_.forEach(u),o=$(c),n=m(c,"UL",{});var f=g(n);for(let k=0;k<s.length;k+=1)s[k].l(f);f.forEach(u),this.h()},h(){p(t,"class","progress is-info"),t.value=l=a[6].length,p(t,"max","4")},m(c,_){y(c,e,_),y(c,t,_),d(t,r),y(c,o,_),y(c,n,_);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(n,null)},p(c,_){if(_&64&&l!==(l=c[6].length)&&(t.value=l),_&64){i=c[6];let f;for(f=0;f<i.length;f+=1){const k=Xe(c,i,f);s[f]?s[f].p(k,_):(s[f]=He(k),s[f].c(),s[f].m(n,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=i.length}},i:P,o:P,d(c){c&&u(e),c&&u(t),c&&u(o),c&&u(n),ye(s,c)}}}function kt(a){let e,t,r,l={ctx:a,current:null,token:null,hasCatch:!0,pending:At,then:bt,catch:vt,error:23,blocks:[,,,]};return pe(t=a[2],l),{c(){e=F(),l.block.c()},l(o){e=F(),l.block.l(o)},m(o,n){y(o,e,n),l.block.m(o,l.anchor=n),l.mount=()=>e.parentNode,l.anchor=e,r=!0},p(o,n){a=o,l.ctx=a,n&4&&t!==(t=a[2])&&pe(t,l)||Je(l,a,n)},i(o){r||(j(l.block),r=!0)},o(o){for(let n=0;n<3;n+=1){const i=l.blocks[n];S(i)}r=!1},d(o){o&&u(e),l.block.d(o),l.token=null,l=null}}}function He(a){let e,t=a[23]+"",r;return{c(){e=h("li"),r=I(t)},l(l){e=m(l,"LI",{});var o=g(e);r=N(o,t),o.forEach(u)},m(l,o){y(l,e,o),d(e,r)},p(l,o){o&64&&t!==(t=l[23]+"")&&ne(r,t)},d(l){l&&u(e)}}}function vt(a){let e,t,r=a[23]+"",l,o;return{c(){e=h("pre"),t=I("				"),l=I(r),o=I(`
			`)},l(n){e=m(n,"PRE",{});var i=g(e);t=N(i,"				"),l=N(i,r),o=N(i,`
			`),i.forEach(u)},m(n,i){y(n,e,i),d(e,t),d(e,l),d(e,o)},p(n,i){i&4&&r!==(r=n[23]+"")&&ne(l,r)},i:P,o:P,d(n){n&&u(e)}}}function bt(a){let e,t,r,l={ctx:a,current:null,token:null,hasCatch:!0,pending:Lt,then:yt,catch:Et,value:22,error:23,blocks:[,,,]};return pe(t=a[5],l),{c(){e=F(),l.block.c()},l(o){e=F(),l.block.l(o)},m(o,n){y(o,e,n),l.block.m(o,l.anchor=n),l.mount=()=>e.parentNode,l.anchor=e,r=!0},p(o,n){a=o,l.ctx=a,n&32&&t!==(t=a[5])&&pe(t,l)||Je(l,a,n)},i(o){r||(j(l.block),r=!0)},o(o){for(let n=0;n<3;n+=1){const i=l.blocks[n];S(i)}r=!1},d(o){o&&u(e),l.block.d(o),l.token=null,l=null}}}function Et(a){let e,t,r=a[23]+"",l,o;return{c(){e=h("pre"),t=I("					"),l=I(r),o=I(`
				`)},l(n){e=m(n,"PRE",{});var i=g(e);t=N(i,"					"),l=N(i,r),o=N(i,`
				`),i.forEach(u)},m(n,i){y(n,e,i),d(e,t),d(e,l),d(e,o)},p(n,i){i&32&&r!==(r=n[23]+"")&&ne(l,r)},i:P,o:P,d(n){n&&u(e)}}}function yt(a){let e,t,r,l;const o=[Pt,wt],n=[];function i(s,c){return s[22]?0:1}return e=i(a),t=n[e]=o[e](a),{c(){t.c(),r=F()},l(s){t.l(s),r=F()},m(s,c){n[e].m(s,c),y(s,r,c),l=!0},p(s,c){let _=e;e=i(s),e===_?n[e].p(s,c):(le(),S(n[_],1,1,()=>{n[_]=null}),re(),t=n[e],t?t.p(s,c):(t=n[e]=o[e](s),t.c()),j(t,1),t.m(r.parentNode,r))},i(s){l||(j(t),l=!0)},o(s){S(t),l=!1},d(s){n[e].d(s),s&&u(r)}}}function wt(a){let e;return{c(){e=I("No result")},l(t){e=N(t,"No result")},m(t,r){y(t,e,r)},p:P,i:P,o:P,d(t){t&&u(e)}}}function Pt(a){let e,t;return e=new We({props:{tree:a[22]}}),{c(){ce(e.$$.fragment)},l(r){ue(e.$$.fragment,r)},m(r,l){fe(e,r,l),t=!0},p(r,l){const o={};l&32&&(o.tree=r[22]),e.$set(o)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){_e(e,r)}}}function Lt(a){let e;return{c(){e=I("Parsing...")},l(t){e=N(t,"Parsing...")},m(t,r){y(t,e,r)},p:P,i:P,o:P,d(t){t&&u(e)}}}function At(a){let e;return{c(){e=I("Building Parser...")},l(t){e=N(t,"Building Parser...")},m(t,r){y(t,e,r)},p:P,i:P,o:P,d(t){t&&u(e)}}}function Dt(a){let e,t,r,l,o,n,i,s,c,_,f,k,b,E,w,A,D,z,C,O,H,J,x,T,L,ee,q,ke,W,G,M,oe,ve,we,te=a[8],V=[];for(let v=0;v<te.length;v+=1)V[v]=Fe(ze(a,te,v));function Ze(v){a[13](v)}let Pe={};a[1]!==void 0&&(Pe.options=a[1]),O=new ht({props:Pe}),de.push(()=>qe(O,"options",Ze));function Ke(v){a[15](v)}let Le={};a[3]!==void 0&&(Le.text=a[3]),T=new _t({props:Le}),a[14](T),de.push(()=>qe(T,"text",Ke)),T.$on("ready",a[9]);const Ae=[kt,gt],Z=[];function De(v,X){return v[4]?0:1}return G=De(a),M=Z[G]=Ae[G](a),{c(){e=U(),t=h("section"),r=h("div"),l=h("div"),o=h("div"),n=h("div"),i=h("div"),s=h("div"),c=h("button"),_=h("span"),f=I("Load Grammar"),k=U(),b=h("span"),E=h("i"),w=U(),A=h("div"),D=h("div");for(let v=0;v<V.length;v+=1)V[v].c();z=U(),C=h("div"),ce(O.$$.fragment),J=U(),x=h("div"),ce(T.$$.fragment),ee=U(),q=h("textarea"),ke=U(),W=h("div"),M.c(),this.h()},l(v){rt("svelte-3fm5e0",document.head).forEach(u),e=$(v),t=m(v,"SECTION",{id:!0,class:!0});var B=g(t);r=m(B,"DIV",{id:!0,class:!0});var Y=g(r);l=m(Y,"DIV",{id:!0,class:!0});var K=g(l);o=m(K,"DIV",{id:!0,class:!0});var R=g(o);n=m(R,"DIV",{class:!0});var se=g(n);i=m(se,"DIV",{class:!0});var ae=g(i);s=m(ae,"DIV",{class:!0});var Ie=g(s);c=m(Ie,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var ie=g(c);_=m(ie,"SPAN",{});var Ne=g(_);f=N(Ne,"Load Grammar"),Ne.forEach(u),k=$(ie),b=m(ie,"SPAN",{class:!0});var je=g(b);E=m(je,"I",{class:!0,"aria-hidden":!0}),g(E).forEach(u),je.forEach(u),ie.forEach(u),Ie.forEach(u),w=$(ae),A=m(ae,"DIV",{class:!0,id:!0,role:!0});var Se=g(A);D=m(Se,"DIV",{class:!0});var Te=g(D);for(let be=0;be<V.length;be+=1)V[be].l(Te);Te.forEach(u),Se.forEach(u),ae.forEach(u),se.forEach(u),R.forEach(u),z=$(K),C=m(K,"DIV",{id:!0,class:!0});var Ve=g(C);ue(O.$$.fragment,Ve),Ve.forEach(u),K.forEach(u),J=$(Y),x=m(Y,"DIV",{id:!0,class:!0});var Ce=g(x);ue(T.$$.fragment,Ce),Ce.forEach(u),Y.forEach(u),ee=$(B),q=m(B,"TEXTAREA",{id:!0,class:!0}),g(q).forEach(u),ke=$(B),W=m(B,"DIV",{id:!0,class:!0});var Oe=g(W);M.l(Oe),Oe.forEach(u),B.forEach(u),this.h()},h(){document.title="Lark IDE",p(E,"class","fas fa-angle-down"),p(E,"aria-hidden","true"),p(b,"class","icon is-small"),p(c,"class","button"),p(c,"aria-haspopup","true"),p(c,"aria-controls","dropdown-menu3"),p(s,"class","dropdown-trigger"),p(D,"class","dropdown-content"),p(A,"class","dropdown-menu"),p(A,"id","dropdown-menu3"),p(A,"role","menu"),p(i,"class","dropdown is-hoverable"),p(n,"class","option svelte-96j91"),p(o,"id","load-grammar"),p(o,"class","svelte-96j91"),p(C,"id","options"),p(C,"class","svelte-96j91"),p(l,"id","above_grammar"),p(l,"class","svelte-96j91"),p(x,"id","grammar"),p(x,"class","svelte-96j91"),p(r,"id","grammar_pane"),p(r,"class","svelte-96j91"),p(q,"id","text"),p(q,"class","svelte-96j91"),p(W,"id","output"),p(W,"class","svelte-96j91"),p(t,"id","ide"),p(t,"class","svelte-96j91")},m(v,X){y(v,e,X),y(v,t,X),d(t,r),d(r,l),d(l,o),d(o,n),d(n,i),d(i,s),d(s,c),d(c,_),d(_,f),d(c,k),d(c,b),d(b,E),d(i,w),d(i,A),d(A,D);for(let B=0;B<V.length;B+=1)V[B]&&V[B].m(D,null);d(l,z),d(l,C),fe(O,C,null),d(r,J),d(r,x),fe(T,x,null),d(t,ee),d(t,q),Ue(q,a[0]),d(t,ke),d(t,W),Z[G].m(W,null),oe=!0,ve||(we=Q(q,"input",a[16]),ve=!0)},p(v,[X]){if(X&1280){te=v[8];let R;for(R=0;R<te.length;R+=1){const se=ze(v,te,R);V[R]?V[R].p(se,X):(V[R]=Fe(se),V[R].c(),V[R].m(D,null))}for(;R<V.length;R+=1)V[R].d(1);V.length=te.length}const B={};!H&&X&2&&(H=!0,B.options=v[1],$e(()=>H=!1)),O.$set(B);const Y={};!L&&X&8&&(L=!0,Y.text=v[3],$e(()=>L=!1)),T.$set(Y),X&1&&Ue(q,v[0]);let K=G;G=De(v),G===K?Z[G].p(v,X):(le(),S(Z[K],1,1,()=>{Z[K]=null}),re(),M=Z[G],M?M.p(v,X):(M=Z[G]=Ae[G](v),M.c()),j(M,1),M.m(W,null))},i(v){oe||(j(O.$$.fragment,v),j(T.$$.fragment,v),j(M),oe=!0)},o(v){S(O.$$.fragment,v),S(T.$$.fragment,v),S(M),oe=!1},d(v){v&&u(e),v&&u(t),ye(V,v),_e(O),a[14](null),_e(T),Z[G].d(),ve=!1,we()}}}const It=500;let Nt="parser = lark.Lark(grammar, **options.to_py())";function jt(a,e,t){const r={parser:"earley",keep_all_tokens:!1},l=[{title:"Blank",name:"blank",text:""},{title:"(easy) Hello World",name:"hello",text:"Hello, World!"},{title:"(easy) JSON parser",name:"json",text:'{"this": ["is", "JSON"]}',options:{parser:"lalr"}},{title:"(easy) Calculator",name:"calc",text:"2 + 20 / (13 - 6) + 1.5",options:{parser:"lalr"}},{title:"(easy) Fruit flies like bananas",name:"fruitflies",text:"fruit flies like bananas",options:{ambiguity:"explicit"}},{title:"(avg) Configuration grammar",name:"conf",text:`[main]
hello=world
`,options:{parser:"lalr"}},{title:"(avg) Lark grammar",name:"lark",text:'start: "Hello" "World"',options:{parser:"lalr"}}];let o="",n="",i=r,s,c,_,f,k=[];async function b(){z("hello"),f||mt(L=>{t(4,f=L)},L=>{t(6,k=[...k,L])})}function E(){f.globals.set("grammar",o),f.globals.set("options",i),t(2,s=f.runPythonAsync(Nt))}let w;function A(){clearTimeout(w),w=setTimeout(()=>{t(11,o=_)},It)}function D(L){return f.globals.set("text",L),f.runPythonAsync("parser.parse(text)")}async function z(L){if(console.log("Loading grammar",L),L==="blank"){t(0,n=""),t(11,o="start:"),C.set_text(""),t(1,i=r);return}let ee=await fetch("grammars/"+L+".lark");if(ee.ok){t(11,o=await ee.text()),C.set_text(o);for(let q of l)if(q.name===L){t(0,n=q.text),t(1,i={...r,...q.options});break}}}let C;const O=L=>{z(L.name)};function H(L){i=L,t(1,i)}function J(L){de[L?"unshift":"push"](()=>{C=L,t(7,C)})}function x(L){_=L,t(3,_)}function T(){n=this.value,t(0,n)}return a.$$.update=()=>{a.$$.dirty&2066&&f&&i&&o&&E(),a.$$.dirty&24&&f&&_&&A(),a.$$.dirty&21&&t(5,c=f&&s&&D(n))},[n,i,s,_,f,c,k,C,l,b,z,o,O,H,J,x,T]}class Tt extends he{constructor(e){super(),me(this,e,jt,Dt,ge,{})}}export{Tt as component};
