import{S as he,i as me,s as ge,k as h,l as m,m as k,h as u,n as p,b as y,E as d,v as le,d as V,f as re,g as T,q as A,r as N,u as ne,J as P,e as F,a as z,c as U,L as Re,I as Q,M as ye,y as ce,z as ue,A as fe,B as _e,p as Ee,N as Ye,o as Qe,w as de,O as et,P as Be,Q as tt,R as lt,T as qe,U as rt,V as ze,W as Ue,X as pe,Y as He}from"../chunks/index.ff588ce8.js";function $e(a,e,t){const r=a.slice();return r[4]=e[t],r}function nt(a){let e,t;return{c(){e=h("code"),t=A(a[0]),this.h()},l(r){e=m(r,"CODE",{class:!0});var l=k(e);t=N(l,a[0]),l.forEach(u),this.h()},h(){p(e,"class","svelte-zl7ynr")},m(r,l){y(r,e,l),d(e,t)},p(r,l){l&1&&ne(t,r[0])},i:P,o:P,d(r){r&&u(e)}}}function st(a){let e,t,r,l;const s=[at,ot],n=[];function i(o,c){return o[0].children.length?0:1}return e=i(a),t=n[e]=s[e](a),{c(){t.c(),r=F()},l(o){t.l(o),r=F()},m(o,c){n[e].m(o,c),y(o,r,c),l=!0},p(o,c){let _=e;e=i(o),e===_?n[e].p(o,c):(le(),V(n[_],1,1,()=>{n[_]=null}),re(),t=n[e],t?t.p(o,c):(t=n[e]=s[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){l||(T(t),l=!0)},o(o){V(t),l=!1},d(o){n[e].d(o),o&&u(r)}}}function ot(a){let e,t,r,l=a[0].data+"",s;return{c(){e=h("span"),t=h("span"),r=z(),s=A(l),this.h()},l(n){e=m(n,"SPAN",{});var i=k(e);t=m(i,"SPAN",{class:!0}),k(t).forEach(u),r=U(i),s=N(i,l),i.forEach(u),this.h()},h(){p(t,"class","no-arrow svelte-zl7ynr")},m(n,i){y(n,e,i),d(e,t),d(e,r),d(e,s)},p(n,i){i&1&&l!==(l=n[0].data+"")&&ne(s,l)},i:P,o:P,d(n){n&&u(e)}}}function at(a){let e,t,r,l,s,n=a[0].data+"",i,o,c,_,f,g,b=a[1]&&Ge(a);return{c(){e=h("span"),t=h("span"),r=A("▶"),l=z(),s=h("span"),i=A(n),o=z(),b&&b.c(),c=F(),this.h()},l(E){e=m(E,"SPAN",{});var w=k(e);t=m(w,"SPAN",{class:!0});var D=k(t);r=N(D,"▶"),D.forEach(u),l=U(w),s=m(w,"SPAN",{class:!0});var I=k(s);i=N(I,n),I.forEach(u),w.forEach(u),o=U(E),b&&b.l(E),c=F(),this.h()},h(){p(t,"class","arrow svelte-zl7ynr"),Re(t,"arrowDown",a[2]),p(s,"class","label svelte-zl7ynr")},m(E,w){y(E,e,w),d(e,t),d(t,r),d(e,l),d(e,s),d(s,i),y(E,o,w),b&&b.m(E,w),y(E,c,w),_=!0,f||(g=Q(e,"click",a[3]),f=!0)},p(E,w){(!_||w&4)&&Re(t,"arrowDown",E[2]),(!_||w&1)&&n!==(n=E[0].data+"")&&ne(i,n),E[1]?b?(b.p(E,w),w&2&&T(b,1)):(b=Ge(E),b.c(),T(b,1),b.m(c.parentNode,c)):b&&(le(),V(b,1,1,()=>{b=null}),re())},i(E){_||(T(b),_=!0)},o(E){V(b),_=!1},d(E){E&&u(e),E&&u(o),b&&b.d(E),E&&u(c),f=!1,g()}}}function Ge(a){let e,t,r=[...a[0].children],l=[];for(let n=0;n<r.length;n+=1)l[n]=Me($e(a,r,n));const s=n=>V(l[n],1,1,()=>{l[n]=null});return{c(){e=h("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=m(n,"DIV",{class:!0});var i=k(e);for(let o=0;o<l.length;o+=1)l[o].l(i);i.forEach(u),this.h()},h(){p(e,"class","children")},m(n,i){y(n,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null);t=!0},p(n,i){if(i&1){r=[...n[0].children];let o;for(o=0;o<r.length;o+=1){const c=$e(n,r,o);l[o]?(l[o].p(c,i),T(l[o],1)):(l[o]=Me(c),l[o].c(),T(l[o],1),l[o].m(e,null))}for(le(),o=r.length;o<l.length;o+=1)s(o);re()}},i(n){if(!t){for(let i=0;i<r.length;i+=1)T(l[i]);t=!0}},o(n){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)V(l[i]);t=!1},d(n){n&&u(e),ye(l,n)}}}function Me(a){let e,t;return e=new We({props:{tree:a[4]}}),{c(){ce(e.$$.fragment)},l(r){ue(e.$$.fragment,r)},m(r,l){fe(e,r,l),t=!0},p(r,l){const s={};l&1&&(s.tree=r[4]),e.$set(s)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){_e(e,r)}}}function it(a){let e,t,r,l,s;const n=[st,nt],i=[];function o(c,_){return c[0].type==="Tree"?0:1}return r=o(a),l=i[r]=n[r](a),{c(){e=h("ul"),t=h("li"),l.c(),this.h()},l(c){e=m(c,"UL",{class:!0});var _=k(e);t=m(_,"LI",{});var f=k(t);l.l(f),f.forEach(u),_.forEach(u),this.h()},h(){p(e,"class","svelte-zl7ynr")},m(c,_){y(c,e,_),d(e,t),i[r].m(t,null),s=!0},p(c,[_]){let f=r;r=o(c),r===f?i[r].p(c,_):(le(),V(i[f],1,1,()=>{i[f]=null}),re(),l=i[r],l?l.p(c,_):(l=i[r]=n[r](c),l.c()),T(l,1),l.m(t,null))},i(c){s||(T(l),s=!0)},o(c){V(l),s=!1},d(c){c&&u(e),i[r].d()}}}function ct(a,e,t){let r,{tree:l}=e,s=!0;const n=()=>{t(1,s=!s)};return a.$$set=i=>{"tree"in i&&t(0,l=i.tree)},a.$$.update=()=>{a.$$.dirty&2&&t(2,r=s)},[l,s,r,n]}class We extends he{constructor(e){super(),me(this,e,ct,it,ge,{tree:0})}}function ut(a){let e;return{c(){e=h("div"),this.h()},l(t){e=m(t,"DIV",{style:!0}),k(e).forEach(u),this.h()},h(){Ee(e,"flex-grow","1"),Ee(e,"overflow","hidden"),Ee(e,"border","1px solid grey")},m(t,r){y(t,e,r),a[3](e)},p:P,i:P,o:P,d(t){t&&u(e),a[3](null)}}}function ft(a,e,t){const r=Ye();let l,{text:s=""}=e;const n={comments:{lineComment:"//"},brackets:[["(",")"],["[","]"],["{","}"]],autoClosingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:"/",close:"/"},{open:'"',close:'"'}],surroundingPairs:[["(",")"],["[","]"],["{","}"],["/","/"],['"','"']]},i={defaultToken:"",tokenPostfix:".lark",keywords:[],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"}],tokenizer:{root:[{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},[/%(import|ignore|declare|override|extend)/,"keyword"],[/[\|]/,"delimiter"],[/[{}\[\]()]/,"@brackets"],[/([a-zA-Z_]*)\s*\:/,"variable.name"],[/\s*->\s*([a-zA-Z_]*)/,"variable.name"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}]],whitespace:[[/\s+/,"white"],[/(^\/\/.*$)/,"comment"]],numbers:[[/-?0x([abcdef]|[ABCDEF]|\d)+[lL]?/,"number.hex"],[/-?(\d*\.)?\d+([eE][+\-]?\d+)?[jJ]?[lL]?/,"number"]],strings:[[/'$/,"string.escape","@popall"],[/'/,"string.escape","@stringBody"],[/"$/,"string.escape","@popall"],[/"/,"string.escape","@dblStringBody"]],stringBody:[[/[^\\']+$/,"string","@popall"],[/[^\\']+/,"string"],[/\\./,"string"],[/'/,"string.escape","@popall"],[/\\$/,"string"]],dblStringBody:[[/[^\\"]+$/,"string","@popall"],[/[^\\"]+/,"string"],[/\\./,"string"],[/"/,"string.escape","@popall"],[/\\$/,"string"]]}};let o;const c={value:s,language:"lark",automaticLayout:!0};Qe(()=>{require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs"}}),require(["vs/editor/editor.main"],g=>{g.languages.register({id:"lark",extensions:[".lark"],aliases:["Lark","lark"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",configuration:"./lark.js"}),g.languages.setMonarchTokensProvider("lark",i),g.languages.setLanguageConfiguration("lark",n),l=g.editor.create(o,c),t(1,s=l.getModel().getValue()),l.getModel().onDidChangeContent(b=>{t(1,s=l.getModel().getValue())}),r("ready",{})})});function _(g){if(l)return l.getModel().setValue(g)}function f(g){de[g?"unshift":"push"](()=>{o=g,t(0,o)})}return a.$$set=g=>{"text"in g&&t(1,s=g.text)},[o,s,_,f]}class _t extends he{constructor(e){super(),me(this,e,ft,ut,ge,{text:1,set_text:2})}get set_text(){return this.$$.ctx[2]}}function dt(a){let e,t,r,l,s,n,i,o,c,_,f,g,b,E,w;return{c(){e=h("div"),t=h("div"),r=h("div"),l=h("select"),s=h("option"),n=A("Parser: Earley"),i=h("option"),o=A("Parser: LALR(1)"),c=z(),_=h("div"),f=h("label"),g=h("input"),b=A(`\r
	 				Keep all tokens`),this.h()},l(D){e=m(D,"DIV",{class:!0});var I=k(e);t=m(I,"DIV",{class:!0});var X=k(t);r=m(X,"DIV",{class:!0});var C=k(r);l=m(C,"SELECT",{});var O=k(l);s=m(O,"OPTION",{});var J=k(s);n=N(J,"Parser: Earley"),J.forEach(u),i=m(O,"OPTION",{});var H=k(i);o=N(H,"Parser: LALR(1)"),H.forEach(u),O.forEach(u),C.forEach(u),X.forEach(u),c=U(I),_=m(I,"DIV",{class:!0});var $=k(_);f=m($,"LABEL",{class:!0,for:!0});var j=k(f);g=m(j,"INPUT",{class:!0,type:!0,id:!0}),b=N(j,`\r
	 				Keep all tokens`),j.forEach(u),$.forEach(u),I.forEach(u),this.h()},h(){s.__value="earley",s.value=s.__value,i.__value="lalr",i.value=i.__value,a[0]===void 0&&et(()=>a[5].call(l)),p(r,"class","select"),p(t,"class","option svelte-1abgjqq"),p(g,"class","checkbox"),p(g,"type","checkbox"),p(g,"id","keep_all_tokens"),p(f,"class","checkbox"),p(f,"for","keep_all_tokens"),p(_,"class","option svelte-1abgjqq"),p(e,"class","list svelte-1abgjqq")},m(D,I){y(D,e,I),d(e,t),d(t,r),d(r,l),d(l,s),d(s,n),d(l,i),d(i,o),Be(l,a[0],!0),d(e,c),d(e,_),d(_,f),d(f,g),g.checked=a[1],d(f,b),E||(w=[Q(l,"change",a[5]),Q(l,"input",a[2]),Q(g,"change",a[6]),Q(g,"input",a[3])],E=!0)},p(D,[I]){I&1&&Be(l,D[0]),I&2&&(g.checked=D[1])},i:P,o:P,d(D){D&&u(e),E=!1,tt(w)}}}function pt(a,e,t){let{options:r}=e,l,s;function n(){t(0,l=r.parser),t(1,s=r.keep_all_tokens)}function i(f){setTimeout(()=>{t(4,r={...r,parser:l})})}function o(f){setTimeout(()=>{t(4,r={...r,keep_all_tokens:s})})}function c(){l=lt(this),t(0,l)}function _(){s=this.checked,t(1,s)}return a.$$set=f=>{"options"in f&&t(4,r=f.options)},a.$$.update=()=>{a.$$.dirty&16&&r&&n()},[l,s,i,o,r,c,_]}class ht extends he{constructor(e){super(),me(this,e,pt,dt,ge,{options:4})}}function mt(a,e){e&&e("Loading Pyodide"),require(["https://cdn.jsdelivr.net/pyodide/v0.18.0/full/pyodide.js"],t=>{t.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.18.0/full/"}).then(async r=>{console.log("Pyodide loaded",r),e&&e("Installing micropip"),await r.loadPackage("micropip"),e&&e("Downloading & Installing Lark"),await r.runPythonAsync("import micropip; await micropip.install('lark-parser');"),r.runPython("import lark"),a(r),console.log("Ready!",r)})})}function xe(a,e,t){const r=a.slice();return r[23]=e[t],r}function Xe(a,e,t){const r=a.slice();return r[26]=e[t],r}function Fe(a){let e,t=a[26].title+"",r,l,s,n;function i(){return a[12](a[26])}return{c(){e=h("a"),r=A(t),l=z(),this.h()},l(o){e=m(o,"A",{href:!0,class:!0});var c=k(e);r=N(c,t),l=U(c),c.forEach(u),this.h()},h(){p(e,"href","#"),p(e,"class","dropdown-item")},m(o,c){y(o,e,c),d(e,r),d(e,l),s||(n=Q(e,"click",i),s=!0)},p(o,c){a=o},d(o){o&&u(e),s=!1,n()}}}function gt(a){let e,t,r,l,s,n,i=a[6],o=[];for(let c=0;c<i.length;c+=1)o[c]=Je(xe(a,i,c));return{c(){e=A(`Please wait, loading...

		`),t=h("progress"),r=A("XX"),s=z(),n=h("ul");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=N(c,`Please wait, loading...

		`),t=m(c,"PROGRESS",{class:!0,max:!0});var _=k(t);r=N(_,"XX"),_.forEach(u),s=U(c),n=m(c,"UL",{});var f=k(n);for(let g=0;g<o.length;g+=1)o[g].l(f);f.forEach(u),this.h()},h(){p(t,"class","progress is-info"),t.value=l=a[6].length,p(t,"max","4")},m(c,_){y(c,e,_),y(c,t,_),d(t,r),y(c,s,_),y(c,n,_);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(n,null)},p(c,_){if(_&64&&l!==(l=c[6].length)&&(t.value=l),_&64){i=c[6];let f;for(f=0;f<i.length;f+=1){const g=xe(c,i,f);o[f]?o[f].p(g,_):(o[f]=Je(g),o[f].c(),o[f].m(n,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=i.length}},i:P,o:P,d(c){c&&u(e),c&&u(t),c&&u(s),c&&u(n),ye(o,c)}}}function kt(a){let e,t,r,l={ctx:a,current:null,token:null,hasCatch:!0,pending:Dt,then:bt,catch:vt,error:23,blocks:[,,,]};return pe(t=a[2],l),{c(){e=F(),l.block.c()},l(s){e=F(),l.block.l(s)},m(s,n){y(s,e,n),l.block.m(s,l.anchor=n),l.mount=()=>e.parentNode,l.anchor=e,r=!0},p(s,n){a=s,l.ctx=a,n&4&&t!==(t=a[2])&&pe(t,l)||He(l,a,n)},i(s){r||(T(l.block),r=!0)},o(s){for(let n=0;n<3;n+=1){const i=l.blocks[n];V(i)}r=!1},d(s){s&&u(e),l.block.d(s),l.token=null,l=null}}}function Je(a){let e,t=a[23]+"",r;return{c(){e=h("li"),r=A(t)},l(l){e=m(l,"LI",{});var s=k(e);r=N(s,t),s.forEach(u)},m(l,s){y(l,e,s),d(e,r)},p(l,s){s&64&&t!==(t=l[23]+"")&&ne(r,t)},d(l){l&&u(e)}}}function vt(a){let e,t,r=a[23]+"",l,s;return{c(){e=h("pre"),t=A("				"),l=A(r),s=A(`
			`)},l(n){e=m(n,"PRE",{});var i=k(e);t=N(i,"				"),l=N(i,r),s=N(i,`
			`),i.forEach(u)},m(n,i){y(n,e,i),d(e,t),d(e,l),d(e,s)},p(n,i){i&4&&r!==(r=n[23]+"")&&ne(l,r)},i:P,o:P,d(n){n&&u(e)}}}function bt(a){let e,t,r,l={ctx:a,current:null,token:null,hasCatch:!0,pending:Lt,then:yt,catch:Et,value:22,error:23,blocks:[,,,]};return pe(t=a[5],l),{c(){e=F(),l.block.c()},l(s){e=F(),l.block.l(s)},m(s,n){y(s,e,n),l.block.m(s,l.anchor=n),l.mount=()=>e.parentNode,l.anchor=e,r=!0},p(s,n){a=s,l.ctx=a,n&32&&t!==(t=a[5])&&pe(t,l)||He(l,a,n)},i(s){r||(T(l.block),r=!0)},o(s){for(let n=0;n<3;n+=1){const i=l.blocks[n];V(i)}r=!1},d(s){s&&u(e),l.block.d(s),l.token=null,l=null}}}function Et(a){let e,t,r=a[23]+"",l,s;return{c(){e=h("pre"),t=A("					"),l=A(r),s=A(`
				`)},l(n){e=m(n,"PRE",{});var i=k(e);t=N(i,"					"),l=N(i,r),s=N(i,`
				`),i.forEach(u)},m(n,i){y(n,e,i),d(e,t),d(e,l),d(e,s)},p(n,i){i&32&&r!==(r=n[23]+"")&&ne(l,r)},i:P,o:P,d(n){n&&u(e)}}}function yt(a){let e,t,r,l;const s=[Pt,wt],n=[];function i(o,c){return o[22]?0:1}return e=i(a),t=n[e]=s[e](a),{c(){t.c(),r=F()},l(o){t.l(o),r=F()},m(o,c){n[e].m(o,c),y(o,r,c),l=!0},p(o,c){let _=e;e=i(o),e===_?n[e].p(o,c):(le(),V(n[_],1,1,()=>{n[_]=null}),re(),t=n[e],t?t.p(o,c):(t=n[e]=s[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){l||(T(t),l=!0)},o(o){V(t),l=!1},d(o){n[e].d(o),o&&u(r)}}}function wt(a){let e;return{c(){e=A("No result")},l(t){e=N(t,"No result")},m(t,r){y(t,e,r)},p:P,i:P,o:P,d(t){t&&u(e)}}}function Pt(a){let e,t;return e=new We({props:{tree:a[22]}}),{c(){ce(e.$$.fragment)},l(r){ue(e.$$.fragment,r)},m(r,l){fe(e,r,l),t=!0},p(r,l){const s={};l&32&&(s.tree=r[22]),e.$set(s)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){_e(e,r)}}}function Lt(a){let e;return{c(){e=A("Parsing...")},l(t){e=N(t,"Parsing...")},m(t,r){y(t,e,r)},p:P,i:P,o:P,d(t){t&&u(e)}}}function Dt(a){let e;return{c(){e=A("Building Parser...")},l(t){e=N(t,"Building Parser...")},m(t,r){y(t,e,r)},p:P,i:P,o:P,d(t){t&&u(e)}}}function It(a){let e,t,r,l,s,n,i,o,c,_,f,g,b,E,w,D,I,X,C,O,J,H,$,j,L,ee,q,ke,W,G,M,oe,ve,we,te=a[8],S=[];for(let v=0;v<te.length;v+=1)S[v]=Fe(Xe(a,te,v));function Ze(v){a[13](v)}let Pe={};a[1]!==void 0&&(Pe.options=a[1]),O=new ht({props:Pe}),de.push(()=>qe(O,"options",Ze));function Ke(v){a[15](v)}let Le={};a[3]!==void 0&&(Le.text=a[3]),j=new _t({props:Le}),a[14](j),de.push(()=>qe(j,"text",Ke)),j.$on("ready",a[9]);const De=[kt,gt],Z=[];function Ie(v,x){return v[4]?0:1}return G=Ie(a),M=Z[G]=De[G](a),{c(){e=z(),t=h("section"),r=h("div"),l=h("div"),s=h("div"),n=h("div"),i=h("div"),o=h("div"),c=h("button"),_=h("span"),f=A("Load Grammar"),g=z(),b=h("span"),E=h("i"),w=z(),D=h("div"),I=h("div");for(let v=0;v<S.length;v+=1)S[v].c();X=z(),C=h("div"),ce(O.$$.fragment),H=z(),$=h("div"),ce(j.$$.fragment),ee=z(),q=h("textarea"),ke=z(),W=h("div"),M.c(),this.h()},l(v){rt("svelte-3fm5e0",document.head).forEach(u),e=U(v),t=m(v,"SECTION",{id:!0,class:!0});var B=k(t);r=m(B,"DIV",{id:!0,class:!0});var Y=k(r);l=m(Y,"DIV",{id:!0,class:!0});var K=k(l);s=m(K,"DIV",{id:!0,class:!0});var R=k(s);n=m(R,"DIV",{class:!0});var se=k(n);i=m(se,"DIV",{class:!0});var ae=k(i);o=m(ae,"DIV",{class:!0});var Ae=k(o);c=m(Ae,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var ie=k(c);_=m(ie,"SPAN",{});var Ne=k(_);f=N(Ne,"Load Grammar"),Ne.forEach(u),g=U(ie),b=m(ie,"SPAN",{class:!0});var Te=k(b);E=m(Te,"I",{class:!0,"aria-hidden":!0}),k(E).forEach(u),Te.forEach(u),ie.forEach(u),Ae.forEach(u),w=U(ae),D=m(ae,"DIV",{class:!0,id:!0,role:!0});var Ve=k(D);I=m(Ve,"DIV",{class:!0});var je=k(I);for(let be=0;be<S.length;be+=1)S[be].l(je);je.forEach(u),Ve.forEach(u),ae.forEach(u),se.forEach(u),R.forEach(u),X=U(K),C=m(K,"DIV",{id:!0,class:!0});var Se=k(C);ue(O.$$.fragment,Se),Se.forEach(u),K.forEach(u),H=U(Y),$=m(Y,"DIV",{id:!0,class:!0});var Ce=k($);ue(j.$$.fragment,Ce),Ce.forEach(u),Y.forEach(u),ee=U(B),q=m(B,"TEXTAREA",{id:!0,class:!0}),k(q).forEach(u),ke=U(B),W=m(B,"DIV",{id:!0,class:!0});var Oe=k(W);M.l(Oe),Oe.forEach(u),B.forEach(u),this.h()},h(){document.title="Lark IDE",p(E,"class","fas fa-angle-down"),p(E,"aria-hidden","true"),p(b,"class","icon is-small"),p(c,"class","button"),p(c,"aria-haspopup","true"),p(c,"aria-controls","dropdown-menu3"),p(o,"class","dropdown-trigger"),p(I,"class","dropdown-content"),p(D,"class","dropdown-menu"),p(D,"id","dropdown-menu3"),p(D,"role","menu"),p(i,"class","dropdown is-hoverable"),p(n,"class","option svelte-96j91"),p(s,"id","load-grammar"),p(s,"class","svelte-96j91"),p(C,"id","options"),p(C,"class","svelte-96j91"),p(l,"id","above_grammar"),p(l,"class","svelte-96j91"),p($,"id","grammar"),p($,"class","svelte-96j91"),p(r,"id","grammar_pane"),p(r,"class","svelte-96j91"),p(q,"id","text"),p(q,"class","svelte-96j91"),p(W,"id","output"),p(W,"class","svelte-96j91"),p(t,"id","ide"),p(t,"class","svelte-96j91")},m(v,x){y(v,e,x),y(v,t,x),d(t,r),d(r,l),d(l,s),d(s,n),d(n,i),d(i,o),d(o,c),d(c,_),d(_,f),d(c,g),d(c,b),d(b,E),d(i,w),d(i,D),d(D,I);for(let B=0;B<S.length;B+=1)S[B]&&S[B].m(I,null);d(l,X),d(l,C),fe(O,C,null),d(r,H),d(r,$),fe(j,$,null),d(t,ee),d(t,q),ze(q,a[0]),d(t,ke),d(t,W),Z[G].m(W,null),oe=!0,ve||(we=Q(q,"input",a[16]),ve=!0)},p(v,[x]){if(x&1280){te=v[8];let R;for(R=0;R<te.length;R+=1){const se=Xe(v,te,R);S[R]?S[R].p(se,x):(S[R]=Fe(se),S[R].c(),S[R].m(I,null))}for(;R<S.length;R+=1)S[R].d(1);S.length=te.length}const B={};!J&&x&2&&(J=!0,B.options=v[1],Ue(()=>J=!1)),O.$set(B);const Y={};!L&&x&8&&(L=!0,Y.text=v[3],Ue(()=>L=!1)),j.$set(Y),x&1&&ze(q,v[0]);let K=G;G=Ie(v),G===K?Z[G].p(v,x):(le(),V(Z[K],1,1,()=>{Z[K]=null}),re(),M=Z[G],M?M.p(v,x):(M=Z[G]=De[G](v),M.c()),T(M,1),M.m(W,null))},i(v){oe||(T(O.$$.fragment,v),T(j.$$.fragment,v),T(M),oe=!0)},o(v){V(O.$$.fragment,v),V(j.$$.fragment,v),V(M),oe=!1},d(v){v&&u(e),v&&u(t),ye(S,v),_e(O),a[14](null),_e(j),Z[G].d(),ve=!1,we()}}}const At=500;let Nt="parser = lark.Lark(grammar, **options.to_py())";function Tt(a,e,t){const r={parser:"earley",keep_all_tokens:!1},l=[{title:"Blank",name:"blank",text:""},{title:"(easy) Hello World",name:"hello",text:"Hello, World!"},{title:"(easy) JSON parser",name:"json",text:'{"this": ["is", "JSON"]}',options:{parser:"lalr"}},{title:"(easy) Calculator",name:"calc",text:"2 + 20 / (13 - 6) + 1.5",options:{parser:"lalr"}},{title:"(easy) Fruit flies like bananas",name:"fruitflies",text:"fruit flies like bananas",options:{ambiguity:"explicit"}}];let s="",n="",i=r,o,c,_,f,g=[];async function b(){X("hello"),f||mt(L=>{t(4,f=L)},L=>{t(6,g=[...g,L])})}function E(){f.globals.set("grammar",s),f.globals.set("options",i),t(2,o=f.runPythonAsync(Nt))}let w;function D(){clearTimeout(w),w=setTimeout(()=>{t(11,s=_)},At)}function I(L){return f.globals.set("text",L),f.runPythonAsync("parser.parse(text)")}async function X(L){if(console.log("Loading grammar",L),L==="blank"){t(0,n=""),t(11,s="start:"),C.set_text(""),t(1,i=r);return}let ee=await fetch("grammars/"+L+".lark");if(ee.ok){t(11,s=await ee.text()),C.set_text(s);for(let q of l)if(q.name===L){t(0,n=q.text),t(1,i={...r,...q.options});break}}}let C;const O=L=>{X(L.name)};function J(L){i=L,t(1,i)}function H(L){de[L?"unshift":"push"](()=>{C=L,t(7,C)})}function $(L){_=L,t(3,_)}function j(){n=this.value,t(0,n)}return a.$$.update=()=>{a.$$.dirty&2066&&f&&i&&s&&E(),a.$$.dirty&24&&f&&_&&D(),a.$$.dirty&21&&t(5,c=f&&o&&I(n))},[n,i,o,_,f,c,g,C,l,b,X,s,O,J,H,$,j]}class jt extends he{constructor(e){super(),me(this,e,Tt,It,ge,{})}}export{jt as component};
