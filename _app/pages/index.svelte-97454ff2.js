var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,o=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&s(e,n,t[n]);if(r)for(var n of r(t))l.call(t,n)&&s(e,n,t[n]);return e},c=(e,r)=>t(e,n(r));import{S as i,i as u,s as d,e as h,c as p,a as f,d as m,b as g,f as v,F as k,r as $,u as b,w as y,x as E,t as x,g as w,h as P,K as _,l as j,k as I,n as L,j as D,m as N,o as A,v as V,L as O,M as S,J as T,N as C,O as B,A as R,P as M,Q as U,R as X,T as z,U as J,V as Z,W as q,X as G,Y as K,Z as W,_ as F}from"../chunks/vendor-b08d787a.js";function H(e,t,n){const r=e.slice();return r[4]=t[n],r}function Q(e){let t,n;return{c(){t=h("code"),n=x(e[0]),this.h()},l(r){t=p(r,"CODE",{class:!0});var a=f(t);n=w(a,e[0]),a.forEach(m),this.h()},h(){g(t,"class","svelte-1t5j50f")},m(e,r){v(e,t,r),k(t,n)},p(e,t){1&t&&P(n,e[0])},i:_,o:_,d(e){e&&m(t)}}}function Y(e){let t,n,r,a;const l=[te,ee],s=[];function o(e,t){return e[0].children.length?0:1}return t=o(e),n=s[t]=l[t](e),{c(){n.c(),r=j()},l(e){n.l(e),r=j()},m(e,n){s[t].m(e,n),v(e,r,n),a=!0},p(e,a){let c=t;t=o(e),t===c?s[t].p(e,a):($(),b(s[c],1,1,(()=>{s[c]=null})),y(),n=s[t],n?n.p(e,a):(n=s[t]=l[t](e),n.c()),E(n,1),n.m(r.parentNode,r))},i(e){a||(E(n),a=!0)},o(e){b(n),a=!1},d(e){s[t].d(e),e&&m(r)}}}function ee(e){let t,n,r,a,l=e[0].data+"";return{c(){t=h("span"),n=h("span"),r=I(),a=x(l),this.h()},l(e){t=p(e,"SPAN",{});var s=f(t);n=p(s,"SPAN",{class:!0}),f(n).forEach(m),r=L(s),a=w(s,l),s.forEach(m),this.h()},h(){g(n,"class","no-arrow svelte-1t5j50f")},m(e,l){v(e,t,l),k(t,n),k(t,r),k(t,a)},p(e,t){1&t&&l!==(l=e[0].data+"")&&P(a,l)},i:_,o:_,d(e){e&&m(t)}}}function te(e){let t,n,r,a,l,s,o,c,i,u,d,_=e[0].data+"",D=e[1]&&ne(e);return{c(){t=h("span"),n=h("span"),r=x("▶"),a=I(),l=h("span"),s=x(_),o=I(),D&&D.c(),c=j(),this.h()},l(e){t=p(e,"SPAN",{});var i=f(t);n=p(i,"SPAN",{class:!0});var u=f(n);r=w(u,"▶"),u.forEach(m),a=L(i),l=p(i,"SPAN",{class:!0});var d=f(l);s=w(d,_),d.forEach(m),i.forEach(m),o=L(e),D&&D.l(e),c=j(),this.h()},h(){g(n,"class","arrow svelte-1t5j50f"),S(n,"arrowDown",e[2]),g(l,"class","label svelte-1t5j50f")},m(h,p){v(h,t,p),k(t,n),k(n,r),k(t,a),k(t,l),k(l,s),v(h,o,p),D&&D.m(h,p),v(h,c,p),i=!0,u||(d=T(t,"click",e[3]),u=!0)},p(e,t){4&t&&S(n,"arrowDown",e[2]),(!i||1&t)&&_!==(_=e[0].data+"")&&P(s,_),e[1]?D?(D.p(e,t),2&t&&E(D,1)):(D=ne(e),D.c(),E(D,1),D.m(c.parentNode,c)):D&&($(),b(D,1,1,(()=>{D=null})),y())},i(e){i||(E(D),i=!0)},o(e){b(D),i=!1},d(e){e&&m(t),e&&m(o),D&&D.d(e),e&&m(c),u=!1,d()}}}function ne(e){let t,n,r=[...e[0].children],a=[];for(let s=0;s<r.length;s+=1)a[s]=re(H(e,r,s));const l=e=>b(a[e],1,1,(()=>{a[e]=null}));return{c(){t=h("div");for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l(e){t=p(e,"DIV",{class:!0});var n=f(t);for(let t=0;t<a.length;t+=1)a[t].l(n);n.forEach(m),this.h()},h(){g(t,"class","children")},m(e,r){v(e,t,r);for(let n=0;n<a.length;n+=1)a[n].m(t,null);n=!0},p(e,n){if(1&n){let s;for(r=[...e[0].children],s=0;s<r.length;s+=1){const l=H(e,r,s);a[s]?(a[s].p(l,n),E(a[s],1)):(a[s]=re(l),a[s].c(),E(a[s],1),a[s].m(t,null))}for($(),s=r.length;s<a.length;s+=1)l(s);y()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)E(a[e]);n=!0}},o(e){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)b(a[t]);n=!1},d(e){e&&m(t),O(a,e)}}}function re(e){let t,n;return t=new se({props:{tree:e[4]}}),{c(){D(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,r){A(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.tree=e[4]),t.$set(r)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){b(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function ae(e){let t,n,r,a,l;const s=[Y,Q],o=[];function c(e,t){return"Tree"===e[0].type?0:1}return r=c(e),a=o[r]=s[r](e),{c(){t=h("ul"),n=h("li"),a.c(),this.h()},l(e){t=p(e,"UL",{class:!0});var r=f(t);n=p(r,"LI",{});var l=f(n);a.l(l),l.forEach(m),r.forEach(m),this.h()},h(){g(t,"class","svelte-1t5j50f")},m(e,a){v(e,t,a),k(t,n),o[r].m(n,null),l=!0},p(e,[t]){let l=r;r=c(e),r===l?o[r].p(e,t):($(),b(o[l],1,1,(()=>{o[l]=null})),y(),a=o[r],a?a.p(e,t):(a=o[r]=s[r](e),a.c()),E(a,1),a.m(n,null))},i(e){l||(E(a),l=!0)},o(e){b(a),l=!1},d(e){e&&m(t),o[r].d()}}}function le(e,t,n){let r,{tree:a}=t,l=!0;return e.$$set=e=>{"tree"in e&&n(0,a=e.tree)},e.$$.update=()=>{2&e.$$.dirty&&n(2,r=l)},[a,l,r,()=>{n(1,l=!l)}]}class se extends i{constructor(e){super(),u(this,e,le,ae,d,{tree:0})}}function oe(e){let t;return{c(){t=h("div"),this.h()},l(e){t=p(e,"DIV",{style:!0}),f(t).forEach(m),this.h()},h(){C(t,"flex-grow","1"),C(t,"overflow","hidden"),C(t,"border","1px solid grey")},m(n,r){v(n,t,r),e[3](t)},p:_,i:_,o:_,d(n){n&&m(t),e[3](null)}}}function ce(e,t,n){const r=B();let a,{text:l=""}=t;const s={comments:{lineComment:"//"},brackets:[["(",")"],["[","]"],["{","}"]],autoClosingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:"/",close:"/"},{open:'"',close:'"'}],surroundingPairs:[["(",")"],["[","]"],["{","}"],["/","/"],['"','"']]},o={defaultToken:"",tokenPostfix:".lark",keywords:[],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"}],tokenizer:{root:[{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},[/%(import|ignore|declare|override|extend)/,"keyword"],[/[\|]/,"delimiter"],[/[{}\[\]()]/,"@brackets"],[/([a-zA-Z_]*)\s*\:/,"variable.name"],[/\s*->\s*([a-zA-Z_]*)/,"variable.name"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}]],whitespace:[[/\s+/,"white"],[/(^\/\/.*$)/,"comment"]],numbers:[[/-?0x([abcdef]|[ABCDEF]|\d)+[lL]?/,"number.hex"],[/-?(\d*\.)?\d+([eE][+\-]?\d+)?[jJ]?[lL]?/,"number"]],strings:[[/'$/,"string.escape","@popall"],[/'/,"string.escape","@stringBody"],[/"$/,"string.escape","@popall"],[/"/,"string.escape","@dblStringBody"]],stringBody:[[/[^\\']+$/,"string","@popall"],[/[^\\']+/,"string"],[/\\./,"string"],[/'/,"string.escape","@popall"],[/\\$/,"string"]],dblStringBody:[[/[^\\"]+$/,"string","@popall"],[/[^\\"]+/,"string"],[/\\./,"string"],[/"/,"string.escape","@popall"],[/\\$/,"string"]]}};let c;const i={value:l,language:"lark",automaticLayout:!0};return R((()=>{require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs"}}),require(["vs/editor/editor.main"],(e=>{e.languages.register({id:"lark",extensions:[".lark"],aliases:["Lark","lark"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",configuration:"./lark.js"}),e.languages.setMonarchTokensProvider("lark",o),e.languages.setLanguageConfiguration("lark",s),a=e.editor.create(c,i),n(1,l=a.getModel().getValue()),a.getModel().onDidChangeContent((e=>{n(1,l=a.getModel().getValue())})),r("ready",{})}))})),e.$$set=e=>{"text"in e&&n(1,l=e.text)},[c,l,function(e){if(a)return a.getModel().setValue(e)},function(e){M[e?"unshift":"push"]((()=>{c=e,n(0,c)}))}]}class ie extends i{constructor(e){super(),u(this,e,ce,oe,d,{text:1,set_text:2})}get set_text(){return this.$$.ctx[2]}}function ue(e){let t,n,r,a,l,s,o,c,i,u,d,$,b,y,E;return{c(){t=h("div"),n=h("div"),r=h("div"),a=h("select"),l=h("option"),s=x("Parser: Earley"),o=h("option"),c=x("Parser: LALR(1)"),i=I(),u=h("div"),d=h("label"),$=h("input"),b=x("\r\n\t \t\t\t\tKeep all tokens"),this.h()},l(e){t=p(e,"DIV",{class:!0});var h=f(t);n=p(h,"DIV",{class:!0});var g=f(n);r=p(g,"DIV",{class:!0});var v=f(r);a=p(v,"SELECT",{});var k=f(a);l=p(k,"OPTION",{});var y=f(l);s=w(y,"Parser: Earley"),y.forEach(m),o=p(k,"OPTION",{});var E=f(o);c=w(E,"Parser: LALR(1)"),E.forEach(m),k.forEach(m),v.forEach(m),g.forEach(m),i=L(h),u=p(h,"DIV",{class:!0});var x=f(u);d=p(x,"LABEL",{class:!0,for:!0});var P=f(d);$=p(P,"INPUT",{class:!0,type:!0,id:!0}),b=w(P,"\r\n\t \t\t\t\tKeep all tokens"),P.forEach(m),x.forEach(m),h.forEach(m),this.h()},h(){l.__value="earley",l.value=l.__value,o.__value="lalr",o.value=o.__value,void 0===e[0]&&U((()=>e[5].call(a))),g(r,"class","select"),g(n,"class","option svelte-1ia7u11"),g($,"class","checkbox"),g($,"type","checkbox"),g($,"id","keep_all_tokens"),g(d,"class","checkbox"),g(d,"for","keep_all_tokens"),g(u,"class","option svelte-1ia7u11"),g(t,"class","list svelte-1ia7u11")},m(h,p){v(h,t,p),k(t,n),k(n,r),k(r,a),k(a,l),k(l,s),k(a,o),k(o,c),X(a,e[0]),k(t,i),k(t,u),k(u,d),k(d,$),$.checked=e[1],k(d,b),y||(E=[T(a,"change",e[5]),T(a,"input",e[2]),T($,"change",e[6]),T($,"input",e[3])],y=!0)},p(e,[t]){1&t&&X(a,e[0]),2&t&&($.checked=e[1])},i:_,o:_,d(e){e&&m(t),y=!1,z(E)}}}function de(e,t,n){let r,a,{options:l}=t;return e.$$set=e=>{"options"in e&&n(4,l=e.options)},e.$$.update=()=>{16&e.$$.dirty&&l&&(n(0,r=l.parser),n(1,a=l.keep_all_tokens))},[r,a,function(e){setTimeout((()=>{n(4,l=c(o({},l),{parser:r}))}))},function(e){setTimeout((()=>{n(4,l=c(o({},l),{keep_all_tokens:a}))}))},l,function(){r=J(this),n(0,r)},function(){a=this.checked,n(1,a)}]}class he extends i{constructor(e){super(),u(this,e,de,ue,d,{options:4})}}function pe(e,t,n){const r=e.slice();return r[24]=t[n],r}function fe(e,t,n){const r=e.slice();return r[27]=t[n],r}function me(e){let t,n,r,a,l,s=e[27].title+"";function o(){return e[12](e[27])}return{c(){t=h("a"),n=x(s),r=I(),this.h()},l(e){t=p(e,"A",{href:!0,class:!0});var a=f(t);n=w(a,s),r=L(a),a.forEach(m),this.h()},h(){g(t,"href","#"),g(t,"class","dropdown-item")},m(e,s){v(e,t,s),k(t,n),k(t,r),a||(l=T(t,"click",o),a=!0)},p(t,n){e=t},d(e){e&&m(t),a=!1,l()}}}function ge(e){let t,n,r,a,l,s,o=e[6],c=[];for(let i=0;i<o.length;i+=1)c[i]=ke(pe(e,o,i));return{c(){t=x("Please wait, loading...\n\n\t\t"),n=h("progress"),r=x("XX"),l=I(),s=h("ul");for(let e=0;e<c.length;e+=1)c[e].c();this.h()},l(e){t=w(e,"Please wait, loading...\n\n\t\t"),n=p(e,"PROGRESS",{class:!0,max:!0});var a=f(n);r=w(a,"XX"),a.forEach(m),l=L(e),s=p(e,"UL",{});var o=f(s);for(let t=0;t<c.length;t+=1)c[t].l(o);o.forEach(m),this.h()},h(){g(n,"class","progress is-info"),n.value=a=e[6].length,g(n,"max","4")},m(e,a){v(e,t,a),v(e,n,a),k(n,r),v(e,l,a),v(e,s,a);for(let t=0;t<c.length;t+=1)c[t].m(s,null)},p(e,t){if(64&t&&a!==(a=e[6].length)&&(n.value=a),64&t){let n;for(o=e[6],n=0;n<o.length;n+=1){const r=pe(e,o,n);c[n]?c[n].p(r,t):(c[n]=ke(r),c[n].c(),c[n].m(s,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=o.length}},i:_,o:_,d(e){e&&m(t),e&&m(n),e&&m(l),e&&m(s),O(c,e)}}}function ve(e){let t,n,r,a={ctx:e,current:null,token:null,hasCatch:!0,pending:_e,then:be,catch:$e,error:24,blocks:[,,,]};return W(n=e[2],a),{c(){t=j(),a.block.c()},l(e){t=j(),a.block.l(e)},m(e,n){v(e,t,n),a.block.m(e,a.anchor=n),a.mount=()=>t.parentNode,a.anchor=t,r=!0},p(t,r){e=t,a.ctx=e,4&r&&n!==(n=e[2])&&W(n,a)||F(a,e,r)},i(e){r||(E(a.block),r=!0)},o(e){for(let t=0;t<3;t+=1){const e=a.blocks[t];b(e)}r=!1},d(e){e&&m(t),a.block.d(e),a.token=null,a=null}}}function ke(e){let t,n,r=e[24]+"";return{c(){t=h("li"),n=x(r)},l(e){t=p(e,"LI",{});var a=f(t);n=w(a,r),a.forEach(m)},m(e,r){v(e,t,r),k(t,n)},p(e,t){64&t&&r!==(r=e[24]+"")&&P(n,r)},d(e){e&&m(t)}}}function $e(e){let t,n,r=e[24]+"";return{c(){t=h("pre"),n=x(r)},l(e){t=p(e,"PRE",{});var a=f(t);n=w(a,r),a.forEach(m)},m(e,r){v(e,t,r),k(t,n)},p(e,t){4&t&&r!==(r=e[24]+"")&&P(n,r)},i:_,o:_,d(e){e&&m(t)}}}function be(e){let t,n,r,a={ctx:e,current:null,token:null,hasCatch:!0,pending:Pe,then:Ee,catch:ye,value:23,error:24,blocks:[,,,]};return W(n=e[5],a),{c(){t=j(),a.block.c()},l(e){t=j(),a.block.l(e)},m(e,n){v(e,t,n),a.block.m(e,a.anchor=n),a.mount=()=>t.parentNode,a.anchor=t,r=!0},p(t,r){e=t,a.ctx=e,32&r&&n!==(n=e[5])&&W(n,a)||F(a,e,r)},i(e){r||(E(a.block),r=!0)},o(e){for(let t=0;t<3;t+=1){const e=a.blocks[t];b(e)}r=!1},d(e){e&&m(t),a.block.d(e),a.token=null,a=null}}}function ye(e){let t,n,r=e[24]+"";return{c(){t=h("pre"),n=x(r)},l(e){t=p(e,"PRE",{});var a=f(t);n=w(a,r),a.forEach(m)},m(e,r){v(e,t,r),k(t,n)},p(e,t){32&t&&r!==(r=e[24]+"")&&P(n,r)},i:_,o:_,d(e){e&&m(t)}}}function Ee(e){let t,n,r,a;const l=[we,xe],s=[];function o(e,t){return e[23]?0:1}return t=o(e),n=s[t]=l[t](e),{c(){n.c(),r=j()},l(e){n.l(e),r=j()},m(e,n){s[t].m(e,n),v(e,r,n),a=!0},p(e,a){let c=t;t=o(e),t===c?s[t].p(e,a):($(),b(s[c],1,1,(()=>{s[c]=null})),y(),n=s[t],n?n.p(e,a):(n=s[t]=l[t](e),n.c()),E(n,1),n.m(r.parentNode,r))},i(e){a||(E(n),a=!0)},o(e){b(n),a=!1},d(e){s[t].d(e),e&&m(r)}}}function xe(e){let t;return{c(){t=x("No result")},l(e){t=w(e,"No result")},m(e,n){v(e,t,n)},p:_,i:_,o:_,d(e){e&&m(t)}}}function we(e){let t,n;return t=new se({props:{tree:e[23]}}),{c(){D(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,r){A(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.tree=e[23]),t.$set(r)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){b(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Pe(e){let t;return{c(){t=x("Parsing...")},l(e){t=w(e,"Parsing...")},m(e,n){v(e,t,n)},p:_,i:_,o:_,d(e){e&&m(t)}}}function _e(e){let t;return{c(){t=x("Building Parser...")},l(e){t=w(e,"Building Parser...")},m(e,n){v(e,t,n)},p:_,i:_,o:_,d(e){e&&m(t)}}}function je(e){let t,n,r,a,l,s,o,c,i,u,d,P,_,j,S,C,B,R,U,X,z,J,W,F,H,Q,Y,ee,te,ne,re,ae,le,se,oe=e[8],ce=[];for(let h=0;h<oe.length;h+=1)ce[h]=me(fe(e,oe,h));function ue(t){e[13](t)}let de={};function pe(t){e[15](t)}void 0!==e[0]&&(de.options=e[0]),X=new he({props:de}),M.push((()=>Z(X,"options",ue)));let ke={};void 0!==e[3]&&(ke.text=e[3]),F=new ie({props:ke}),e[14](F),M.push((()=>Z(F,"text",pe))),F.$on("ready",e[9]);const $e=[ve,ge],be=[];function ye(e,t){return e[4]?0:1}return ne=ye(e),re=be[ne]=$e[ne](e),{c(){t=I(),n=h("section"),r=h("div"),a=h("div"),l=h("div"),s=h("div"),o=h("div"),c=h("div"),i=h("button"),u=h("span"),d=x("Load Grammar"),P=I(),_=h("span"),j=h("i"),S=I(),C=h("div"),B=h("div");for(let e=0;e<ce.length;e+=1)ce[e].c();R=I(),U=h("div"),D(X.$$.fragment),J=I(),W=h("div"),D(F.$$.fragment),Q=I(),Y=h("textarea"),ee=I(),te=h("div"),re.c(),this.h()},l(e){q('[data-svelte="svelte-3fm5e0"]',document.head).forEach(m),t=L(e),n=p(e,"SECTION",{id:!0,class:!0});var h=f(n);r=p(h,"DIV",{id:!0,class:!0});var g=f(r);a=p(g,"DIV",{id:!0,class:!0});var v=f(a);l=p(v,"DIV",{id:!0,class:!0});var k=f(l);s=p(k,"DIV",{class:!0});var $=f(s);o=p($,"DIV",{class:!0});var b=f(o);c=p(b,"DIV",{class:!0});var y=f(c);i=p(y,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var E=f(i);u=p(E,"SPAN",{});var x=f(u);d=w(x,"Load Grammar"),x.forEach(m),P=L(E),_=p(E,"SPAN",{class:!0});var I=f(_);j=p(I,"I",{class:!0,"aria-hidden":!0}),f(j).forEach(m),I.forEach(m),E.forEach(m),y.forEach(m),S=L(b),C=p(b,"DIV",{class:!0,id:!0,role:!0});var D=f(C);B=p(D,"DIV",{class:!0});var A=f(B);for(let t=0;t<ce.length;t+=1)ce[t].l(A);A.forEach(m),D.forEach(m),b.forEach(m),$.forEach(m),k.forEach(m),R=L(v),U=p(v,"DIV",{id:!0,class:!0});var V=f(U);N(X.$$.fragment,V),V.forEach(m),v.forEach(m),J=L(g),W=p(g,"DIV",{id:!0,class:!0});var O=f(W);N(F.$$.fragment,O),O.forEach(m),g.forEach(m),Q=L(h),Y=p(h,"TEXTAREA",{id:!0,class:!0}),f(Y).forEach(m),ee=L(h),te=p(h,"DIV",{id:!0,class:!0});var T=f(te);re.l(T),T.forEach(m),h.forEach(m),this.h()},h(){document.title="Lark IDE",g(j,"class","fas fa-angle-down"),g(j,"aria-hidden","true"),g(_,"class","icon is-small"),g(i,"class","button"),g(i,"aria-haspopup","true"),g(i,"aria-controls","dropdown-menu3"),g(c,"class","dropdown-trigger"),g(B,"class","dropdown-content"),g(C,"class","dropdown-menu"),g(C,"id","dropdown-menu3"),g(C,"role","menu"),g(o,"class","dropdown is-hoverable"),g(s,"class","option svelte-96j91"),g(l,"id","load-grammar"),g(l,"class","svelte-96j91"),g(U,"id","options"),g(U,"class","svelte-96j91"),g(a,"id","above_grammar"),g(a,"class","svelte-96j91"),g(W,"id","grammar"),g(W,"class","svelte-96j91"),g(r,"id","grammar_pane"),g(r,"class","svelte-96j91"),g(Y,"id","text"),g(Y,"class","svelte-96j91"),g(te,"id","output"),g(te,"class","svelte-96j91"),g(n,"id","ide"),g(n,"class","svelte-96j91")},m(h,p){v(h,t,p),v(h,n,p),k(n,r),k(r,a),k(a,l),k(l,s),k(s,o),k(o,c),k(c,i),k(i,u),k(u,d),k(i,P),k(i,_),k(_,j),k(o,S),k(o,C),k(C,B);for(let e=0;e<ce.length;e+=1)ce[e].m(B,null);k(a,R),k(a,U),A(X,U,null),k(r,J),k(r,W),A(F,W,null),k(n,Q),k(n,Y),G(Y,e[1]),k(n,ee),k(n,te),be[ne].m(te,null),ae=!0,le||(se=T(Y,"input",e[16]),le=!0)},p(e,[t]){if(1280&t){let n;for(oe=e[8],n=0;n<oe.length;n+=1){const r=fe(e,oe,n);ce[n]?ce[n].p(r,t):(ce[n]=me(r),ce[n].c(),ce[n].m(B,null))}for(;n<ce.length;n+=1)ce[n].d(1);ce.length=oe.length}const n={};!z&&1&t&&(z=!0,n.options=e[0],K((()=>z=!1))),X.$set(n);const r={};!H&&8&t&&(H=!0,r.text=e[3],K((()=>H=!1))),F.$set(r),2&t&&G(Y,e[1]);let a=ne;ne=ye(e),ne===a?be[ne].p(e,t):($(),b(be[a],1,1,(()=>{be[a]=null})),y(),re=be[ne],re?re.p(e,t):(re=be[ne]=$e[ne](e),re.c()),E(re,1),re.m(te,null))},i(e){ae||(E(X.$$.fragment,e),E(F.$$.fragment,e),E(re),ae=!0)},o(e){b(X.$$.fragment,e),b(F.$$.fragment,e),b(re),ae=!1},d(r){r&&m(t),r&&m(n),O(ce,r),V(X),e[14](null),V(F),be[ne].d(),le=!1,se()}}}const Ie=!0;function Le(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,l){function s(e){try{c(r.next(e))}catch(t){l(t)}}function o(e){try{c(r.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};const a={parser:"earley",keep_all_tokens:!1},l=[{title:"Blank",name:"blank",text:""},{title:"(easy) Hello World",name:"hello",text:"Hello, World!"},{title:"(easy) JSON parser",name:"json",text:'{"this": ["is", "JSON"]}',options:{parser:"lalr"}},{title:"(easy) Calculator",name:"calc",text:"20 / (13 - 6) + 1",options:{parser:"lalr"}}];let s,o,c,i,{grammar:u,options:d,text:h}=l[1];d=d||a;let p,f,m=[];function g(e){return r(this,void 0,void 0,(function*(){if(console.log("Loading grammar",e),"blank"===e)return n(1,h=""),n(11,u=""),f.set_text(""),void n(0,d=a);let t=yield fetch("grammars/"+e+".lark");if(t.ok){n(11,u=yield t.text()),f.set_text(u);for(let t of l)if(t.name===e){n(1,h=t.text),n(0,d=t.options||a);break}}}))}return e.$$.update=()=>{var t;2065&e.$$.dirty&&i&&d&&u&&(i.globals.set("grammar",u),i.globals.set("options",d),n(2,s=i.runPythonAsync("parser = lark.Lark(grammar, **options.to_py())"))),24&e.$$.dirty&&i&&c&&(clearTimeout(p),p=setTimeout((()=>{n(11,u=c)}),500)),22&e.$$.dirty&&n(5,o=i&&s&&(t=h,i.globals.set("text",t),i.runPythonAsync("parser.parse(text)")))},[d,h,s,c,i,o,m,f,l,function(){return r(this,void 0,void 0,(function*(){var e,t;g("hello"),i||(e=e=>{n(4,i=e)},(t=e=>{n(6,m=[...m,e])})&&t("Loading Pyodide"),require(["https://cdn.jsdelivr.net/pyodide/v0.18.0/full/pyodide.js"],(n=>{n.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.18.0/full/"}).then((async n=>{console.log("Pyodide loaded",n),t&&t("Installing micropip"),await n.loadPackage("micropip"),t&&t("Downloading & Installing Lark"),await n.runPythonAsync("import micropip; await micropip.install('lark-parser');"),n.runPython("import lark"),e(n),console.log("Ready!",n)}))})))}))},g,u,e=>{g(e.name)},function(e){d=e,n(0,d)},function(e){M[e?"unshift":"push"]((()=>{f=e,n(7,f)}))},function(e){c=e,n(3,c)},function(){h=this.value,n(1,h)}]}class De extends i{constructor(e){super(),u(this,e,Le,je,d,{})}}export{De as default,Ie as prerender};
